(function(Ct){typeof define=="function"&&define.amd?define(Ct):Ct()})(function(){"use strict";function Ct(t){return Object.keys(t).reduce((r,n)=>{const s=t[n];return r[n]=Object.assign({},s),tn(s.value)&&!Ks(s.value)&&!Array.isArray(s.value)&&(r[n].value=Object.assign({},s.value)),Array.isArray(s.value)&&(r[n].value=s.value.slice(0)),r},{})}function Gs(t){return t?Object.keys(t).reduce((r,n)=>{const s=t[n];return r[n]=tn(s)&&"value"in s?s:{value:s},r[n].attribute||(r[n].attribute=Ws(n)),r[n].parse="parse"in r[n]?r[n].parse:typeof r[n].value!="string",r},{}):{}}function zs(t){return Object.keys(t).reduce((r,n)=>(r[n]=t[n].value,r),{})}function Fs(t,e){const r=Ct(e);return Object.keys(e).forEach(s=>{const i=r[s],a=t.getAttribute(i.attribute),o=t[s];a&&(i.value=i.parse?Qr(a):a),o!=null&&(i.value=Array.isArray(o)?o.slice(0):o),i.reflect&&en(t,i.attribute,i.value,!!i.parse),Object.defineProperty(t,s,{get(){return i.value},set(c){const l=i.value;i.value=c,i.reflect&&en(this,i.attribute,i.value,!!i.parse);for(let u=0,d=this.__propertyChangedCallbacks.length;u<d;u++)this.__propertyChangedCallbacks[u](s,c,l)},enumerable:!0,configurable:!0})}),r}function Qr(t){if(!!t)try{return JSON.parse(t)}catch{return t}}function en(t,e,r,n){if(r==null||r===!1)return t.removeAttribute(e);let s=n?JSON.stringify(r):r;t.__updating[e]=!0,s==="true"&&(s=""),t.setAttribute(e,s),Promise.resolve().then(()=>delete t.__updating[e])}function Ws(t){return t.replace(/\.?([A-Z]+)/g,(e,r)=>"-"+r.toLowerCase()).replace("_","-").replace(/^-/,"")}function tn(t){return t!=null&&(typeof t=="object"||typeof t=="function")}function Ks(t){return Object.prototype.toString.call(t)==="[object Function]"}function Js(t){return typeof t=="function"&&t.toString().indexOf("class")===0}let gr;function Ys(t,e){const r=Object.keys(e);return class extends t{static get observedAttributes(){return r.map(s=>e[s].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=Fs(this,e);const s=zs(this.props),i=this.Component,a=gr;try{gr=this,this.__initialized=!0,Js(i)?new i(s,{element:this}):i(s,{element:this})}finally{gr=a}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let s=null;for(;s=this.__releaseCallbacks.pop();)s(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(s,i,a){if(!!this.__initialized&&!this.__updating[s]&&(s=this.lookupProp(s),s in e)){if(a==null&&!this[s])return;this[s]=e[s].parse?Qr(a):a}}lookupProp(s){if(!!e)return r.find(i=>s===i||s===e[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(s){this.__releaseCallbacks.push(s)}addPropertyChangedCallback(s){this.__propertyChangedCallbacks.push(s)}}}function qs(t,e={},r={}){const{BaseElement:n=HTMLElement,extension:s,customElements:i=window.customElements}=r;return a=>{if(!t)throw new Error("tag is required to register a Component");let o=i.get(t);return o?(o.prototype.Component=a,o):(o=Ys(n,Gs(e)),o.prototype.Component=a,o.prototype.registeredTag=t,i.define(t,o,s),o)}}const S={context:void 0,registry:void 0,done:!1,getContextId(){return rn(this.context.count)},getNextContextId(){return rn(this.context.count++)}};function rn(t){const e=String(t),r=e.length-1;return S.context.id+(r?String.fromCharCode(96+r):"")+e}function Ye(t){S.context=t}const Hs=(t,e)=>t===e,re=Symbol("solid-proxy"),yr=Symbol("solid-track"),At={equals:Hs};let qe=null,nn=un;const ae=1,Tt=2,sn={owned:null,cleanups:null,context:null,owner:null},br={};var T=null;let je=null,Xs=null,$=null,F=null,q=null,Ot=0;function He(t,e){const r=$,n=T,s=t.length===0,i=e===void 0?n:e,a=s?sn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=s?t:()=>t(()=>ee(()=>Rt(a)));T=a,$=null;try{return ye(o,!0)}finally{$=r,T=n}}function I(t,e){e=e?Object.assign({},At,e):At;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=s=>(typeof s=="function"&&(s=s(r.value)),ln(r,s));return[cn.bind(r),n]}function an(t,e,r){const n=et(t,e,!0,ae);Re(n)}function Q(t,e,r){const n=et(t,e,!1,ae);Re(n)}function Nt(t,e,r){nn=ai;const n=et(t,e,!1,ae),s=Pe&&Qe(Pe);s&&(n.suspense=s),(!r||!r.render)&&(n.user=!0),q?q.push(n):Re(n)}function z(t,e,r){r=r?Object.assign({},At,r):At;const n=et(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Re(n),cn.bind(n)}function Qs(t){return t&&typeof t=="object"&&"then"in t}function oe(t,e,r){let n,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(n=!0,s=t,i=e||{}):(n=t,s=e,i=r||{});let a=null,o=br,c=null,l=!1,u=!1,d="initialValue"in i,k=typeof n=="function"&&z(n);const m=new Set,[A,_]=(i.storage||I)(i.initialValue),[R,O]=I(void 0),[L,G]=I(void 0,{equals:!1}),[K,ge]=I(d?"ready":"unresolved");S.context&&(c=S.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:S.load&&S.has(c)&&(o=S.load(c)));function Ee(Z,V,B,Je){return a===Z&&(a=null,Je!==void 0&&(d=!0),(Z===o||V===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(Je,{value:V})),o=br,Ac(V,B)),V}function Ac(Z,V){ye(()=>{V===void 0&&_(()=>Z),ge(V!==void 0?"errored":d?"ready":"unresolved"),O(V);for(const B of m.keys())B.decrement();m.clear()},!1)}function Hr(){const Z=Pe&&Qe(Pe),V=A(),B=R();if(B!==void 0&&!a)throw B;return $&&!$.user&&Z&&an(()=>{L(),a&&(Z.resolved&&je&&l?je.promises.add(a):m.has(Z)||(Z.increment(),m.add(Z)))}),V}function Xr(Z=!0){if(Z!==!1&&u)return;u=!1;const V=k?k():n;if(l=je,V==null||V===!1){Ee(a,ee(A));return}const B=o!==br?o:ee(()=>s(V,{value:A(),refetching:Z}));return Qs(B)?(a=B,"value"in B?(B.status==="success"?Ee(a,B.value,void 0,V):Ee(a,void 0,vr(B.value),V),B):(u=!0,queueMicrotask(()=>u=!1),ye(()=>{ge(d?"refreshing":"pending"),G()},!1),B.then(Je=>Ee(B,Je,void 0,V),Je=>Ee(B,void 0,vr(Je),V)))):(Ee(a,B,void 0,V),B)}return Object.defineProperties(Hr,{state:{get:()=>K()},error:{get:()=>R()},loading:{get(){const Z=K();return Z==="pending"||Z==="refreshing"}},latest:{get(){if(!d)return Hr();const Z=R();if(Z&&!a)throw Z;return A()}}}),k?an(()=>Xr(!1)):Xr(!1),[Hr,{refetch:Xr,mutate:_}]}function ei(t){return ye(t,!1)}function ee(t){if($===null)return t();const e=$;$=null;try{return t()}finally{$=e}}function Xe(t){return T===null||(T.cleanups===null?T.cleanups=[t]:T.cleanups.push(t)),t}function on(t,e){qe||(qe=Symbol("error")),T=et(void 0,void 0,!0),T.context={...T.context,[qe]:[e]};try{return t()}catch(r){It(r)}finally{T=T.owner}}function wr(){return $}function D(){return T}function ti(t){q.push.apply(q,t),t.length=0}function $t(t,e){const r=Symbol("context");return{id:r,Provider:oi(r),defaultValue:t}}function Qe(t){let e;return T&&T.context&&(e=T.context[t.id])!==void 0?e:t.defaultValue}function ri(t){const e=z(t),r=z(()=>_r(e()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Pe;function ni(){return Pe||(Pe=$t())}function cn(){if(this.sources&&this.state)if(this.state===ae)Re(this);else{const t=F;F=null,ye(()=>Pt(this),!1),F=t}if($){const t=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(t)):($.sources=[this],$.sourceSlots=[t]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function ln(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&ye(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],a=je&&je.running;a&&je.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?F.push(i):q.push(i),i.observers&&dn(i)),a||(i.state=ae)}if(F.length>1e6)throw F=[],new Error},!1)),e}function Re(t){if(!t.fn)return;Rt(t);const e=Ot;si(t,t.value,e)}function si(t,e,r){let n;const s=T,i=$;$=T=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=ae,t.owned&&t.owned.forEach(Rt),t.owned=null),t.updatedAt=r+1,It(a)}finally{$=i,T=s}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?ln(t,n):t.value=n,t.updatedAt=r)}function et(t,e,r,n=ae,s){const i={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:T,context:T?T.context:null,pure:r};return T===null||T!==sn&&(T.owned?T.owned.push(i):T.owned=[i]),i}function jt(t){if(t.state===0)return;if(t.state===Tt)return Pt(t);if(t.suspense&&ee(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ot);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===ae)Re(t);else if(t.state===Tt){const n=F;F=null,ye(()=>Pt(t,e[0]),!1),F=n}}function ye(t,e){if(F)return t();let r=!1;e||(F=[]),q?r=!0:q=[],Ot++;try{const n=t();return ii(r),n}catch(n){r||(q=null),F=null,It(n)}}function ii(t){if(F&&(un(F),F=null),t)return;const e=q;q=null,e.length&&ye(()=>nn(e),!1)}function un(t){for(let e=0;e<t.length;e++)jt(t[e])}function ai(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:jt(n)}if(S.context){if(S.count){S.effects||(S.effects=[]),S.effects.push(...t.slice(0,r));return}else S.effects&&(t=[...S.effects,...t],r+=S.effects.length,delete S.effects);Ye()}for(e=0;e<r;e++)jt(t[e])}function Pt(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const s=n.state;s===ae?n!==e&&(!n.updatedAt||n.updatedAt<Ot)&&jt(n):s===Tt&&Pt(n,e)}}}function dn(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=Tt,r.pure?F.push(r):q.push(r),r.observers&&dn(r))}}function Rt(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),s=r.observers;if(s&&s.length){const i=s.pop(),a=r.observerSlots.pop();n<s.length&&(i.sourceSlots[a]=n,s[n]=i,r.observerSlots[n]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Rt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function vr(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function fn(t,e,r){try{for(const n of e)n(t)}catch(n){It(n,r&&r.owner||null)}}function It(t,e=T){const r=qe&&e&&e.context&&e.context[qe],n=vr(t);if(!r)throw n;q?q.push({fn(){fn(n,r,e)},state:ae}):fn(n,r,e)}function _r(t){if(typeof t=="function"&&!t.length)return _r(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=_r(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function oi(t,e){return function(n){let s;return Q(()=>s=ee(()=>(T.context={...T.context,[t]:n.value},ri(()=>n.children))),void 0),s}}function tt(t){const[e,r]=I(void 0,{equals:!1});if("subscribe"in t){const n=t.subscribe(s=>r(()=>s));Xe(()=>"unsubscribe"in n?n.unsubscribe():n())}else{const n=t(r);Xe(n)}return e}const ci=Symbol("fallback");function hn(t){for(let e=0;e<t.length;e++)t[e]()}function li(t,e,r={}){let n=[],s=[],i=[],a=0,o=e.length>1?[]:null;return Xe(()=>hn(i)),()=>{let c=t()||[],l=c.length,u,d;return c[yr],ee(()=>{let m,A,_,R,O,L,G,K,ge;if(l===0)a!==0&&(hn(i),i=[],n=[],s=[],a=0,o&&(o=[])),r.fallback&&(n=[ci],s[0]=He(Ee=>(i[0]=Ee,r.fallback())),a=1);else if(a===0){for(s=new Array(l),d=0;d<l;d++)n[d]=c[d],s[d]=He(k);a=l}else{for(_=new Array(l),R=new Array(l),o&&(O=new Array(l)),L=0,G=Math.min(a,l);L<G&&n[L]===c[L];L++);for(G=a-1,K=l-1;G>=L&&K>=L&&n[G]===c[K];G--,K--)_[K]=s[G],R[K]=i[G],o&&(O[K]=o[G]);for(m=new Map,A=new Array(K+1),d=K;d>=L;d--)ge=c[d],u=m.get(ge),A[d]=u===void 0?-1:u,m.set(ge,d);for(u=L;u<=G;u++)ge=n[u],d=m.get(ge),d!==void 0&&d!==-1?(_[d]=s[u],R[d]=i[u],o&&(O[d]=o[u]),d=A[d],m.set(ge,d)):i[u]();for(d=L;d<l;d++)d in _?(s[d]=_[d],i[d]=R[d],o&&(o[d]=O[d],o[d](d))):s[d]=He(k);s=s.slice(0,a=l),n=c.slice(0)}return s});function k(m){if(i[d]=m,o){const[A,_]=I(d);return o[d]=_,e(c[d],A)}return e(c[d])}}}function y(t,e){return ee(()=>t(e||{}))}function Mt(){return!0}const xr={get(t,e,r){return e===re?r:t.get(e)},has(t,e){return e===re?!0:t.has(e)},set:Mt,deleteProperty:Mt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Mt,deleteProperty:Mt}},ownKeys(t){return t.keys()}};function kr(t){return(t=typeof t=="function"?t():t)?t:{}}function ui(){for(let t=0,e=this.length;t<e;++t){const r=this[t]();if(r!==void 0)return r}}function pn(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&re in o,t[a]=typeof o=="function"?(e=!0,z(o)):o}if(e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const c=kr(t[o])[a];if(c!==void 0)return c}},has(a){for(let o=t.length-1;o>=0;o--)if(a in kr(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(kr(t[o])));return[...new Set(a)]}},xr);const r={},n=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const c=Object.getOwnPropertyNames(o);for(let l=c.length-1;l>=0;l--){const u=c[l];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(o,u);if(!n[u])n[u]=d.get?{enumerable:!0,configurable:!0,get:ui.bind(r[u]=[d.get.bind(o)])}:d.value!==void 0?d:void 0;else{const k=r[u];k&&(d.get?k.push(d.get.bind(o)):d.value!==void 0&&k.push(()=>d.value))}}}const s={},i=Object.keys(n);for(let a=i.length-1;a>=0;a--){const o=i[a],c=n[o];c&&c.get?Object.defineProperty(s,o,c):s[o]=c?c.value:void 0}return s}function mn(t,...e){if(re in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},xr));return i.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},xr)),i}const r={},n=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,c=0;for(const l of e)l.includes(s)&&(o=!0,a?n[c][s]=i.value:Object.defineProperty(n[c],s,i)),++c;o||(a?r[s]=i.value:Object.defineProperty(r,s,i))}return[...n,r]}const di=t=>`Stale read from <${t}>.`;function fi(t){const e="fallback"in t&&{fallback:()=>t.fallback};return z(li(()=>t.each,t.children,e||void 0))}function fe(t){const e=t.keyed,r=z(()=>t.when,void 0,{equals:(n,s)=>e?n===s:!n==!s});return z(()=>{const n=r();if(n){const s=t.children;return typeof s=="function"&&s.length>0?ee(()=>s(e?n:()=>{if(!ee(r))throw di("Show");return t.when})):s}return t.fallback},void 0,void 0)}let Lt;function hi(t){let e;S.context&&S.load&&(e=S.load(S.getContextId()));const[r,n]=I(e,void 0);return Lt||(Lt=new Set),Lt.add(n),Xe(()=>Lt.delete(n)),z(()=>{let s;if(s=r()){const i=t.fallback;return typeof i=="function"&&i.length?ee(()=>i(s,()=>n())):i}return on(()=>t.children,n)},void 0,void 0)}const pi=$t();function Dt(t){let e=0,r,n,s,i,a;const[o,c]=I(!1),l=ni(),u={increment:()=>{++e===1&&c(!0)},decrement:()=>{--e===0&&c(!1)},inFallback:o,effects:[],resolved:!1},d=D();if(S.context&&S.load){const A=S.getContextId();let _=S.load(A);if(_&&(typeof _!="object"||_.status!=="success"?s=_:S.gather(A)),s&&s!=="$$f"){const[R,O]=I(void 0,{equals:!1});i=R,s.then(()=>{if(S.done)return O();S.gather(A),Ye(n),O(),Ye()},L=>{a=L,O()})}}const k=Qe(pi);k&&(r=k.register(u.inFallback));let m;return Xe(()=>m&&m()),y(l.Provider,{value:u,get children(){return z(()=>{if(a)throw a;if(n=S.context,i)return i(),i=void 0;n&&s==="$$f"&&Ye();const A=z(()=>t.children);return z(_=>{const R=u.inFallback(),{showContent:O=!0,showFallback:L=!0}=r?r():{};if((!R||s&&s!=="$$f")&&O)return u.resolved=!0,m&&m(),m=n=s=void 0,ti(u.effects),A();if(!!L)return m?_:He(G=>(m=G,n&&(Ye({id:n.id+"F",count:0}),n=void 0),t.fallback),d)})})}})}const mi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],gi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...mi]),yi=new Set(["innerHTML","textContent","innerText","children"]),bi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),wi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function vi(t,e){const r=wi[t];return typeof r=="object"?r[e]?r.$:void 0:r}const _i=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),xi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ki(t,e,r){let n=r.length,s=e.length,i=n,a=0,o=0,c=e[s-1].nextSibling,l=null;for(;a<s||o<i;){if(e[a]===r[o]){a++,o++;continue}for(;e[s-1]===r[i-1];)s--,i--;if(s===a){const u=i<n?o?r[o-1].nextSibling:r[i-o]:c;for(;o<i;)t.insertBefore(r[o++],u)}else if(i===o)for(;a<s;)(!l||!l.has(e[a]))&&e[a].remove(),a++;else if(e[a]===r[i-1]&&r[o]===e[s-1]){const u=e[--s].nextSibling;t.insertBefore(r[o++],e[a++].nextSibling),t.insertBefore(r[--i],u),e[s]=r[i]}else{if(!l){l=new Map;let d=o;for(;d<i;)l.set(r[d],d++)}const u=l.get(e[a]);if(u!=null)if(o<u&&u<i){let d=a,k=1,m;for(;++d<s&&d<i&&!((m=l.get(e[d]))==null||m!==u+k);)k++;if(k>u-o){const A=e[a];for(;o<u;)t.insertBefore(r[o++],A)}else t.replaceChild(r[o++],e[a++])}else a++;else e[a++].remove()}}}const gn="_$DX_DELEGATE";function M(t,e,r){let n;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,r?a.content.firstChild.firstChild:a.content.firstChild},i=e?()=>ee(()=>document.importNode(n||(n=s()),!0)):()=>(n||(n=s())).cloneNode(!0);return i.cloneNode=i,i}function Si(t,e=window.document){const r=e[gn]||(e[gn]=new Set);for(let n=0,s=t.length;n<s;n++){const i=t[n];r.has(i)||(r.add(i),e.addEventListener(i,ji))}}function J(t,e,r){rt(t)||(r==null?t.removeAttribute(e):t.setAttribute(e,r))}function Ei(t,e,r,n){rt(t)||(n==null?t.removeAttributeNS(e,r):t.setAttributeNS(e,r,n))}function Ci(t,e){rt(t)||(e==null?t.removeAttribute("class"):t.className=e)}function Ai(t,e,r,n){if(n)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const s=r[0];t.addEventListener(e,r[0]=i=>s.call(t,r[1],i))}else t.addEventListener(e,r)}function Ti(t,e,r={}){const n=Object.keys(e||{}),s=Object.keys(r);let i,a;for(i=0,a=s.length;i<a;i++){const o=s[i];!o||o==="undefined"||e[o]||(wn(t,o,!1),delete r[o])}for(i=0,a=n.length;i<a;i++){const o=n[i],c=!!e[o];!o||o==="undefined"||r[o]===c||!c||(wn(t,o,!0),r[o]=c)}return r}function Oi(t,e,r){if(!e)return r?J(t,"style"):e;const n=t.style;if(typeof e=="string")return n.cssText=e;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),e||(e={});let s,i;for(i in r)e[i]==null&&n.removeProperty(i),delete r[i];for(i in e)s=e[i],s!==r[i]&&(n.setProperty(i,s),r[i]=s);return r}function yn(t,e={},r,n){const s={};return n||Q(()=>s.children=Ie(t,e.children,s.children)),Q(()=>typeof e.ref=="function"&&bn(e.ref,t)),Q(()=>Ni(t,e,r,!0,s,!0)),s}function bn(t,e,r){return ee(()=>t(e,r))}function E(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return Ie(t,e,n,r);Q(s=>Ie(t,e(),s,r),n)}function Ni(t,e,r,n,s={},i=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=vn(t,a,null,s[a],r,i)}for(const a in e){if(a==="children"){n||Ie(t,e.children);continue}const o=e[a];s[a]=vn(t,a,o,s[a],r,i)}}function rt(t){return!!S.context&&!S.done&&(!t||t.isConnected)}function $i(t){return t.toLowerCase().replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}function wn(t,e,r){const n=e.trim().split(/\s+/);for(let s=0,i=n.length;s<i;s++)t.classList.toggle(n[s],r)}function vn(t,e,r,n,s,i){let a,o,c,l,u;if(e==="style")return Oi(t,r,n);if(e==="classList")return Ti(t,r,n);if(r===n)return n;if(e==="ref")i||r(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);n&&t.removeEventListener(d,n),r&&t.addEventListener(d,r)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);n&&t.removeEventListener(d,n,!0),r&&t.addEventListener(d,r,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),k=_i.has(d);if(!k&&n){const m=Array.isArray(n)?n[0]:n;t.removeEventListener(d,m)}(k||r)&&(Ai(t,d,r,k),k&&Si([d]))}else if(e.slice(0,5)==="attr:")J(t,e.slice(5),r);else if((u=e.slice(0,5)==="prop:")||(c=yi.has(e))||!s&&((l=vi(e,t.tagName))||(o=gi.has(e)))||(a=t.nodeName.includes("-"))){if(u)e=e.slice(5),o=!0;else if(rt(t))return r;e==="class"||e==="className"?Ci(t,r):a&&!o&&!c?t[$i(e)]=r:t[l||e]=r}else{const d=s&&e.indexOf(":")>-1&&xi[e.split(":")[0]];d?Ei(t,d,e,r):J(t,bi[e]||e,r)}return r}function ji(t){if(S.registry&&S.events&&S.events.find(([n,s])=>s===t))return;const e=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}}),S.registry&&!S.done&&(S.done=_$HY.done=!0);r;){const n=r[e];if(n&&!r.disabled){const s=r[`${e}Data`];if(s!==void 0?n.call(r,s,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Ie(t,e,r,n,s){const i=rt(t);if(i){!r&&(r=[...t.childNodes]);let c=[];for(let l=0;l<r.length;l++){const u=r[l];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():c.push(u)}r=c}for(;typeof r=="function";)r=r();if(e===r)return r;const a=typeof e,o=n!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,a==="string"||a==="number"){if(i||a==="number"&&(e=e.toString(),e===r))return r;if(o){let c=r[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),r=Me(t,r,n,c)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||a==="boolean"){if(i)return r;r=Me(t,r,n)}else{if(a==="function")return Q(()=>{let c=e();for(;typeof c=="function";)c=c();r=Ie(t,c,r,n)}),()=>r;if(Array.isArray(e)){const c=[],l=r&&Array.isArray(r);if(Sr(c,e,r,s))return Q(()=>r=Ie(t,c,r,n,!0)),()=>r;if(i){if(!c.length)return r;if(n===void 0)return r=[...t.childNodes];let u=c[0];if(u.parentNode!==t)return r;const d=[u];for(;(u=u.nextSibling)!==n;)d.push(u);return r=d}if(c.length===0){if(r=Me(t,r,n),o)return r}else l?r.length===0?_n(t,c,n):ki(t,r,c):(r&&Me(t),_n(t,c));r=c}else if(e.nodeType){if(i&&e.parentNode)return r=o?[e]:e;if(Array.isArray(r)){if(o)return r=Me(t,r,n,e);Me(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function Sr(t,e,r,n){let s=!1;for(let i=0,a=e.length;i<a;i++){let o=e[i],c=r&&r[t.length],l;if(!(o==null||o===!0||o===!1))if((l=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))s=Sr(t,o,c)||s;else if(l==="function")if(n){for(;typeof o=="function";)o=o();s=Sr(t,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||s}else t.push(o),s=!0;else{const u=String(o);c&&c.nodeType===3&&c.data===u?t.push(c):t.push(document.createTextNode(u))}}return s}function _n(t,e,r=null){for(let n=0,s=e.length;n<s;n++)t.insertBefore(e[n],r)}function Me(t,e,r,n){if(r===void 0)return t.textContent="";const s=n||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(s!==o){const c=o.parentNode===t;!i&&!a?c?t.replaceChild(s,o):t.insertBefore(s,r):c&&o.remove()}else i=!0}}else t.insertBefore(s,r);return[s]}function Pi(t){const e=Object.keys(t),r={};for(let n=0;n<e.length;n++){const[s,i]=I(t[e[n]]);Object.defineProperty(r,e[n],{get:s,set(a){i(()=>a)}})}return r}function Ri(t){if(t.assignedSlot&&t.assignedSlot._$owner)return t.assignedSlot._$owner;let e=t.parentNode;for(;e&&!e._$owner&&!(e.assignedSlot&&e.assignedSlot._$owner);)e=e.parentNode;return e&&e.assignedSlot?e.assignedSlot._$owner:t._$owner}function Ii(t){return(e,r)=>{const{element:n}=r;return He(s=>{const i=Pi(e);n.addPropertyChangedCallback((o,c)=>i[o]=c),n.addReleaseCallback(()=>{n.renderRoot.textContent="",s()});const a=t(i,r);return E(n.renderRoot,a)},Ri(n))}}function Mi(t,e,r){return arguments.length===2&&(r=e,e={}),qs(t,e)(Ii(r))}const Li=`main.app{border-radius:8px;border-style:solid;border-width:2px;max-width:780px;margin:auto;overflow-x:hidden;padding:1rem}.top-bar h1{text-align:center}.top-bar menu{display:flex;justify-content:space-around;column-gap:10px}.loading{text-align:center}sl-icon.rotate{animation:turn 1s infinite linear}@keyframes turn{0%{transform:rotate(0)}to{transform:rotate(180deg)}}sl-button{margin-right:1rem}sl-tab>sl-icon{margin-right:.5rem}form [data-invalid]::part(base){border-color:var(--sl-color-danger-600)}form .form-error{padding:1rem;margin-bottom:1rem;color:#000;background-color:var(--sl-color-orange-50);border-color:var(--sl-color-orange-200);border-radius:10px;border-style:solid;border-width:2px}form .field{margin:0rem .2rem 1rem}form .field>.error{display:flex;column-gap:.2rem;padding:.5rem 0;color:var(--sl-color-danger-600)}
`;var Di=t=>t;function Ui(t,e=Di){return(r,...n)=>{r[0]==="."&&(r=r.slice(1));const s=t()?.[r];switch(typeof s){case"function":return s(...n);case"string":return e(s,n[0]);default:return s}}}const xn={"Sign up":"Opprett konto","Sign in":"Logg inn","Sign out":"Logg ut",Email:"E-post adresse",Password:"Passord",Profile:"Profil",Account:"Konto",Contact:"Kontakt",Save:"Lagre","First name":"Fornavn","Last name":"Etternavn",Address:"Adresse",Phone:"Telefonnummer","My membership":"Mitt medlemskap",Subscription:"Avtale","Failed signing up":"Kunne ikke opprette konto","Failed signing in":"Kunne ikke logge inn","Did you type your password and email correct?":"Har du skrevet riktig passord og e-post-adresse?","Did you already sign up?":"Har du allerede registrert deg?","Error saving":"Kunne ikke lagre","Must be a valid email address":"Ugyldig adresse","Must be a valid name":"Ugyldig navn","Must be a valid street address":"Ugyldig adresse","Must be 3-16 charcters and contain one digit and a special char":"M\xE5 v\xE6re 3-16 tegn langt og inneha ett tall og et tegn"},kn=[{code:"no",name:"norsk",dict:xn},{code:"en",name:"english",dict:Object.keys(xn).reduce((t,e)=>({...t,[e]:e}),[])}],Zi=kn.reduce((t,{code:e,dict:r})=>({...t,[e]:r}),{}),Sn=$t(),En=kn.map(({code:t,name:e})=>({code:t,name:e})),Vi=t=>{const[e,r]=I("en"),[n]=oe(e,a=>(console.log({langCode:a}),Zi[a])),i={t:a=>{const c=Ui(n)(a);return c||console.info(`i18nProvider: Missing text for '${a}'(${e()})`),c},setLocale:r,locale:e};return y(Sn.Provider,{value:i,get children(){return t.children}})},be=()=>Qe(Sn);var Bi=Object.defineProperty,Gi=(t,e)=>{for(var r in e)Bi(t,r,{get:e[r],enumerable:!0})},zi=class{collectable={};listeners={};interceptors;constructor({interceptors:t}={}){this.interceptors=t??{}}subscribe(t,e,r=!1){if(this.listeners[t]||(this.listeners[t]=[]),!this.isSubscribed(t,e)&&(this.listeners[t]?.push(e),r&&this.collectable[t])){let n=this.collectable[t];this.collectable[t]=[];for(let s of n)e(...s)}}subscribeOnce(t,e=!1){return new Promise(r=>{let n=!1,s=(...i)=>{n||(n=!0,this.unSubscribe(t,s),r(i))};this.subscribe(t,s,e)})}unSubscribe(t,e){if(this.listeners[t]){let r=this.listeners[t]?.findIndex(n=>n===e);r&&this.listeners[t]?.splice(r,1)}}isSubscribed(t,e){return!!this.listeners[t]?.includes(e)}async emit(t,e,r=!1){let n=this.interceptors[t],s=n?await n(...e):e;this.listeners[t]?.length===0&&r&&(this.collectable[t]||(this.collectable[t]=[]),this.collectable[t]?.push(e));for(let i of this.listeners[t]??[])i(...s)}reset({collectable:t,listeners:e}){if(Array.isArray(t))for(let r of t)delete this.collectable[r];else typeof t=="string"?delete this.collectable[t]:t!==!1&&(this.collectable={});if(Array.isArray(e))for(let r of e)delete this.listeners[r];else typeof e=="string"?delete this.listeners[e]:e!==!1&&(this.listeners={})}scanListeners(t){let e=Object.keys(this.listeners);return t&&(e=e.filter(t)),e}},Fi={};Gi(Fi,{CborBreak:()=>Zt,CborError:()=>Ae,CborFillMissing:()=>jn,CborInvalidMajorError:()=>Ut,CborNumberError:()=>Ar,CborPartialDisabled:()=>$n,CborRangeError:()=>ce,Encoded:()=>Cr,Gap:()=>Pn,POW_2_53:()=>Wi,POW_2_64:()=>Er,PartiallyEncoded:()=>Tr,Reader:()=>Nr,Tagged:()=>U,Writer:()=>Vt,decode:()=>Mn,encode:()=>Le,infiniteBytes:()=>$r,partiallyEncodeObject:()=>Or});var Wi=9007199254740992,Er=BigInt(18446744073709552e3),Cr=class{constructor(t){this.encoded=t}},j=class extends Error{},Ce=class extends j{name="NoActiveSocket";message="No socket is currently connected to a SurrealDB instance. Please call the .connect() method first!"},Cn=class extends j{name="EngineDisconnected";message="The engine reported the connection to SurrealDB has dropped"},An=class extends j{constructor(t){super(),this.response=t,this.message=`${t}`}name="UnexpectedServerResponse"},Ki=class extends j{constructor(t){super(),this.error=t,this.message=`${t}`}name="UnexpectedConnectionError"},Ji=class extends j{constructor(t){super(),this.engine=t}name="UnsupportedEngine";message="The engine you are trying to connect to is not supported or configured."},Tn=class extends j{name="ConnectionUnavailable";message="There is no connection available at this moment."},Yi=class extends j{name="MissingNamespaceDatabase";message="There are no namespace and/or database configured."},qi=class extends j{constructor(t,e,r,n){super(),this.message=t,this.status=e,this.statusText=r,this.buffer=n}name="HttpConnectionError"},N=class extends j{constructor(t){super(),this.message=t}name="ResponseError"},Hi=class extends j{name="NoNamespaceSpecified";message="Please specify a namespace to use."},Xi=class extends j{name="NoDatabaseSpecified";message="Please specify a database to use."},On=class extends j{name="NoTokenReturned";message="Did not receive an authentication token."},Qi=class extends j{name="UnsupportedVersion";version;supportedRange;constructor(t,e){super(),this.version=t,this.supportedRange=e,this.message=`The version "${t}" reported by the engine is not supported by this library, expected a version that satisfies "${e}".`}},Nn=class extends j{constructor(t){super(),this.error=t}name="VersionRetrievalFailure";message="Failed to retrieve remote version. If the server is behind a proxy, make sure it's configured correctly."},Ae=class extends j{message;constructor(t){super(),this.message=t}},Ar=class extends Ae{name="CborNumberError"},ce=class extends Ae{name="CborRangeError"},Ut=class extends Ae{name="CborInvalidMajorError"},Zt=class extends Ae{name="CborBreak";constructor(){super("Came across a break which was not intercepted by the decoder")}},$n=class extends Ae{name="CborPartialDisabled";constructor(){super("Tried to insert a Gap into a CBOR value, while partial mode is not enabled")}},jn=class extends Ae{name="CborFillMissing";constructor(){super("Fill for a gap is missing, and gap has no default")}},Pn=class{args=[];constructor(...t){this.args=t}fill(t){return[this,t]}hasDefault(){return this.args.length===1}get default(){return this.args[0]}},Vt=class{constructor(t=256){this.byteLength=t,this._buf=new ArrayBuffer(this.byteLength),this._view=new DataView(this._buf),this._byte=new Uint8Array(this._buf)}_chunks=[];_pos=0;_buf;_view;_byte;chunk(t){this._chunks.push([this._buf.slice(0,this._pos),t]),this._buf=new ArrayBuffer(this.byteLength),this._view=new DataView(this._buf),this._byte=new Uint8Array(this._buf),this._pos=0}get chunks(){return this._chunks}get buffer(){return this._buf.slice(0,this._pos)}claim(t){let e=this._pos;if(this._pos+=t,this._pos<=this._buf.byteLength)return e;let r=this._buf.byteLength<<1;for(;r<this._pos;)r<<=1;if(r>this._buf.byteLength){let n=this._byte;this._buf=new ArrayBuffer(r),this._view=new DataView(this._buf),this._byte=new Uint8Array(this._buf),this._byte.set(n)}return e}writeUint8(t){let e=this.claim(1);this._view.setUint8(e,t)}writeUint16(t){let e=this.claim(2);this._view.setUint16(e,t)}writeUint32(t){let e=this.claim(4);this._view.setUint32(e,t)}writeUint64(t){let e=this.claim(8);this._view.setBigUint64(e,t)}writeUint8Array(t){if(t.byteLength===0)return;let e=this.claim(t.byteLength);this._byte.set(t,e)}writeArrayBuffer(t){t.byteLength!==0&&this.writeUint8Array(new Uint8Array(t))}writePartiallyEncoded(t){for(let[e,r]of t.chunks)this.writeArrayBuffer(e),this.chunk(r);this.writeArrayBuffer(t.end)}writeFloat32(t){let e=this.claim(4);this._view.setFloat32(e,t)}writeFloat64(t){let e=this.claim(8);this._view.setFloat64(e,t)}writeMajor(t,e){let r=t<<5;e<24?this.writeUint8(r+Number(e)):e<256?(this.writeUint8(r+24),this.writeUint8(Number(e))):e<65536?(this.writeUint8(r+25),this.writeUint16(Number(e))):e<4294967296?(this.writeUint8(r+26),this.writeUint32(Number(e))):(this.writeUint8(r+27),this.writeUint64(BigInt(e)))}output(t,e){return t?new Tr(this._chunks,this.buffer,e):this.buffer}},Tr=class{constructor(t,e,r){this.chunks=t,this.end=e,this.replacer=r}build(t,e){let r=new Vt,n=new Map(t);for(let[s,i]of this.chunks){let a=n.has(i)||i.hasDefault();if(!e&&!a)throw new jn;if(r.writeArrayBuffer(s),a){let o=n.get(i)??i.default;Le(o,{writer:r,replacer:this.replacer})}else r.chunk(i)}return r.writeArrayBuffer(this.end),r.output(!!e,this.replacer)}};function Or(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Le(n,{...e,partial:!0})]))}var U=class{constructor(t,e){this.tag=t,this.value=e}},Rn;function Le(t,e={}){let r=e.writer??new Vt,n=new Map(e.fills??[]);function s(i){let a=e.replacer?e.replacer(i):i;if(a===void 0)return r.writeUint8(247);if(a===null)return r.writeUint8(246);if(a===!0)return r.writeUint8(245);if(a===!1)return r.writeUint8(244);switch(typeof a){case"number":{if(Number.isInteger(a))if(a>=0&&a<=9007199254740992)r.writeMajor(0,a);else if(a<0&&a>=-9007199254740992)r.writeMajor(1,-(a+1));else throw new Ar("Number too big to be encoded");else r.writeUint8(251),r.writeFloat64(a);return}case"bigint":{if(a>=0&&a<Er)r.writeMajor(0,a);else if(a<=0&&a>=-Er)r.writeMajor(1,-(a+1n));else throw new Ar("BigInt too big to be encoded");return}case"string":{Rn??=new TextEncoder;let o=Rn.encode(a);r.writeMajor(3,o.byteLength),r.writeUint8Array(o);return}default:{if(Array.isArray(a)){r.writeMajor(4,a.length);for(let c of a)s(c);return}if(a instanceof U){r.writeMajor(6,a.tag),s(a.value);return}if(a instanceof Cr){r.writeArrayBuffer(a.encoded);return}if(a instanceof Pn){if(n.has(a))s(n.get(a));else{if(!e.partial)throw new $n;r.chunk(a)}return}if(a instanceof Tr){let c=a.build(e.fills??[],e.partial);e.partial?r.writePartiallyEncoded(c):r.writeArrayBuffer(c);return}if(a instanceof Uint8Array||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Float32Array||a instanceof Float64Array||a instanceof ArrayBuffer){let c=new Uint8Array(a);r.writeMajor(2,c.byteLength),r.writeUint8Array(c);return}let o=a instanceof Map?Array.from(a.entries()):Object.entries(a);r.writeMajor(5,o.length);for(let c of o.flat())s(c)}}}return s(t),r.output(!!e.partial,e.replacer)}var Nr=class{_buf;_view;_byte;_pos=0;constructor(t){this._buf=new ArrayBuffer(t.byteLength),this._view=new DataView(this._buf),this._byte=new Uint8Array(this._buf),this._byte.set(new Uint8Array(t))}read(t,e){return this._pos+=t,e}readUint8(){try{return this.read(1,this._view.getUint8(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readUint16(){try{return this.read(2,this._view.getUint16(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readUint32(){try{return this.read(4,this._view.getUint32(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readUint64(){try{return this.read(8,this._view.getBigUint64(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readFloat16(){let t=this.readUint16(),e=(t&32768)>>15,r=(t&31744)>>10,n=t&1023;return r===0?(e?-1:1)*2**-14*(n/2**10):r===31?n?Number.NaN:(e?-1:1)*Number.POSITIVE_INFINITY:(e?-1:1)*2**(r-15)*(1+n/2**10)}readFloat32(){try{return this.read(4,this._view.getFloat32(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readFloat64(){try{return this.read(8,this._view.getFloat64(this._pos))}catch(t){throw t instanceof RangeError?new ce(t.message):t}}readBytes(t){let e=this._byte.length-this._pos;if(e<t)throw new ce(`The argument must be between 0 and ${e}`);return this.read(t,this._byte.slice(this._pos,this._pos+t))}readMajor(){let t=this.readUint8(),e=t>>5;if(e<0||e>7)throw new Ut("Received invalid major type");return[e,t&31]}readMajorLength(t){if(t<=23)return t;switch(t){case 24:return this.readUint8();case 25:return this.readUint16();case 26:return this.readUint32();case 27:{let e=this.readUint64();return e>9007199254740992?e:Number(e)}}throw new ce("Expected a final length")}};function $r(t,e){let r=new Vt;for(;;){let[n,s]=t.readMajor();if(n===7&&s===31)break;if(n!==e)throw new Ut(`Expected a resource of the same major (${e}) while processing an infinite resource`);if(s===31)throw new ce("Expected a finite resource while processing an infinite resource");r.writeUint8Array(t.readBytes(Number(t.readMajorLength(s))))}return r.buffer}var In;function Mn(t,e={}){let r=t instanceof Nr?t:new Nr(t);function n(){let[i,a]=r.readMajor();switch(i){case 0:return r.readMajorLength(a);case 1:{let o=r.readMajorLength(a);return typeof o=="bigint"?-(o+1n):-(o+1)}case 2:return a===31?$r(r,2):r.readBytes(Number(r.readMajorLength(a))).buffer;case 3:{let o=a===31?$r(r,3):r.readBytes(Number(r.readMajorLength(a)));return In??=new TextDecoder,In.decode(o)}case 4:{if(a===31){let l=[];for(;;)try{l.push(s())}catch(u){if(u instanceof Zt)break;throw u}return l}let o=r.readMajorLength(a),c=Array(o);for(let l=0;l<o;l++)c[l]=s();return c}case 5:{let o=[];if(a===31)for(;;){let c;try{c=s()}catch(u){if(u instanceof Zt)break;throw u}let l=s();o.push([c,l])}else{let c=r.readMajorLength(a);for(let l=0;l<c;l++){let u=s(),d=s();o[l]=[u,d]}}return e.map==="map"?new Map(o):Object.fromEntries(o)}case 6:{let o=r.readMajorLength(a),c=s();return new U(o,c)}case 7:switch(a){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 25:return r.readFloat16();case 26:return r.readFloat32();case 27:return r.readFloat64();case 31:throw new Zt}}throw new Ut(`Unable to decode value with major tag ${i}`)}function s(){return e.replacer?e.replacer(n()):n()}return s()}function ea(t){let e=Math.floor(t.getTime()/1e3),r=t.getTime()-e*1e3;return[e,r*1e6]}function ta([t,e]){let r=new Date(0);return r.setUTCSeconds(Number(t)),r.setMilliseconds(Math.floor(Number(e)/1e6)),r}var jr=class{decimal;constructor(t){this.decimal=t.toString()}toString(){return this.decimal}toJSON(){return this.decimal}},Pr=1,De=Pr/1e3,Rr=De/1e3,Bt=1e3*Pr,Gt=60*Bt,zt=60*Gt,Ft=24*zt,Ir=7*Ft,Mr=new Map([["ns",Rr],["\xB5s",De],["\u03BCs",De],["us",De],["ms",Pr],["s",Bt],["m",Gt],["h",zt],["d",Ft],["w",Ir]]),ra=Array.from(Mr).reduce((t,[e,r])=>(t.set(r,e),t),new Map),na=new RegExp(`^(\\d+)(${Array.from(Mr.keys()).join("|")})`),Lr=class te{_milliseconds;constructor(e){e instanceof te?this._milliseconds=e._milliseconds:typeof e=="string"?this._milliseconds=te.parseString(e):this._milliseconds=e}static fromCompact([e,r]){e=e??0,r=r??0;let n=e*1e3+r/1e6;return new te(n)}toCompact(){let e=Math.floor(this._milliseconds/1e3),r=Math.floor((this._milliseconds-e*1e3)*1e6);return r>0?[e,r]:e>0?[e]:[]}toString(){let e=this._milliseconds,r="";function n(s){let i=Math.floor(e/s);return i>0&&(e=e%s),i}for(let[s,i]of Array.from(ra).reverse()){let a=n(s);a>0&&(r+=`${a}${i}`)}return r}toJSON(){return this.toString()}static parseString(e){let r=0,n=e;for(;n!=="";){let s=n.match(na);if(s){let i=Number.parseInt(s[1]),a=Mr.get(s[2]);if(a===void 0)throw new j(`Invalid duration unit: ${s[2]}`);r+=i*a,n=n.slice(s[0].length);continue}throw new j("Could not match a next duration part")}return r}static nanoseconds(e){return new te(Math.floor(e*Rr))}static microseconds(e){return new te(Math.floor(e*De))}static milliseconds(e){return new te(e)}static seconds(e){return new te(e*Bt)}static minutes(e){return new te(e*Gt)}static hours(e){return new te(e*zt)}static days(e){return new te(e*Ft)}static weeks(e){return new te(e*Ir)}get microseconds(){return Math.floor(this._milliseconds/De)}get nanoseconds(){return Math.floor(this._milliseconds/Rr)}get milliseconds(){return Math.floor(this._milliseconds)}get seconds(){return Math.floor(this._milliseconds/Bt)}get minutes(){return Math.floor(this._milliseconds/Gt)}get hours(){return Math.floor(this._milliseconds/zt)}get days(){return Math.floor(this._milliseconds/Ft)}get weeks(){return Math.floor(this._milliseconds/Ir)}},Te=class{};function Ln(t){return t instanceof jr?Number.parseFloat(t.decimal):t}var Dn=class cr extends Te{point;constructor(e){super(),e instanceof cr?this.point=e.clone().point:this.point=[Ln(e[0]),Ln(e[1])]}toJSON(){return{type:"Point",coordinates:this.coordinates}}get coordinates(){return this.point}is(e){return e instanceof cr?this.point[0]===e.point[0]&&this.point[1]===e.point[1]:!1}clone(){return new cr([...this.point])}},Un=class lr extends Te{line;constructor(e){super(),this.line=e instanceof lr?e.clone().line:e}toJSON(){return{type:"LineString",coordinates:this.coordinates}}get coordinates(){return this.line.map(e=>e.coordinates)}close(){this.line[0].is(this.line.at(-1))||this.line.push(this.line[0])}is(e){if(!(e instanceof lr)||this.line.length!==e.line.length)return!1;for(let r=0;r<this.line.length;r++)if(!this.line[r].is(e.line[r]))return!1;return!0}clone(){return new lr(this.line.map(e=>e.clone()))}},Zn=class ur extends Te{polygon;constructor(e){super(),this.polygon=e instanceof ur?e.clone().polygon:e.map(r=>{let n=r.clone();return n.close(),n})}toJSON(){return{type:"Polygon",coordinates:this.coordinates}}get coordinates(){return this.polygon.map(e=>e.coordinates)}is(e){if(!(e instanceof ur)||this.polygon.length!==e.polygon.length)return!1;for(let r=0;r<this.polygon.length;r++)if(!this.polygon[r].is(e.polygon[r]))return!1;return!0}clone(){return new ur(this.polygon.map(e=>e.clone()))}},Vn=class dr extends Te{points;constructor(e){super(),this.points=e instanceof dr?e.points:e}toJSON(){return{type:"MultiPoint",coordinates:this.coordinates}}get coordinates(){return this.points.map(e=>e.coordinates)}is(e){if(!(e instanceof dr)||this.points.length!==e.points.length)return!1;for(let r=0;r<this.points.length;r++)if(!this.points[r].is(e.points[r]))return!1;return!0}clone(){return new dr(this.points.map(e=>e.clone()))}},Bn=class fr extends Te{lines;constructor(e){super(),this.lines=e instanceof fr?e.lines:e}toJSON(){return{type:"MultiLineString",coordinates:this.coordinates}}get coordinates(){return this.lines.map(e=>e.coordinates)}is(e){if(!(e instanceof fr)||this.lines.length!==e.lines.length)return!1;for(let r=0;r<this.lines.length;r++)if(!this.lines[r].is(e.lines[r]))return!1;return!0}clone(){return new fr(this.lines.map(e=>e.clone()))}},Gn=class hr extends Te{polygons;constructor(e){super(),this.polygons=e instanceof hr?e.polygons:e}toJSON(){return{type:"MultiPolygon",coordinates:this.coordinates}}get coordinates(){return this.polygons.map(e=>e.coordinates)}is(e){if(!(e instanceof hr)||this.polygons.length!==e.polygons.length)return!1;for(let r=0;r<this.polygons.length;r++)if(!this.polygons[r].is(e.polygons[r]))return!1;return!0}clone(){return new hr(this.polygons.map(e=>e.clone()))}},zn=class pr extends Te{collection;constructor(e){super(),this.collection=e instanceof pr?e.collection:e}toJSON(){return{type:"GeometryCollection",geometries:this.geometries}}get geometries(){return this.collection.map(e=>e.toJSON())}is(e){if(!(e instanceof pr)||this.collection.length!==e.collection.length)return!1;for(let r=0;r<this.collection.length;r++)if(!this.collection[r].is(e.collection[r]))return!1;return!0}clone(){return new pr(this.collection.map(e=>e.clone()))}},sa=9223372036854775807n,Fn=class{tb;id;constructor(t,e){if(typeof t!="string")throw new j("TB part is not valid");if(!ca(e))throw new j("ID part is not valid");this.tb=t,this.id=e}toJSON(){return this.toString()}toString(){let t=Wn(this.tb),e=typeof this.id=="string"?Wn(this.id):typeof this.id=="bigint"||typeof this.id=="number"?aa(this.id):JSON.stringify(this.id);return`${t}:${e}`}},ia=class{rid;constructor(t){if(typeof t!="string")throw new j("String Record ID must be a string");this.rid=t}toJSON(){return this.rid}toString(){return this.rid}};function aa(t){return t<=sa?t.toString():`\u27E8${t}\u27E9`}function Wn(t){if(oa(t))return`\u27E8${t}\u27E9`;let e,r,n;for(r=0,n=t.length;r<n;r++)if(e=t.charCodeAt(r),!(e>47&&e<58)&&!(e>64&&e<91)&&!(e>96&&e<123)&&e!==95)return`\u27E8${t.replaceAll("\u27E9","\u27E9")}\u27E9`;return t}function oa(t){let e=Number.parseInt(t);return!Number.isNaN(e)&&e.toString()===t}function ca(t){switch(typeof t){case"string":case"number":case"bigint":return!0;case"object":return Array.isArray(t)||t!==null;default:return!1}}var Kn=class{tb;constructor(t){if(typeof t!="string")throw new j("Table must be a string");this.tb=t}toJSON(){return this.tb}toString(){return this.tb}},Wt="0123456789abcdef",Ue=class Et{constructor(e){this.bytes=e}static ofInner(e){if(e.length!==16)throw new TypeError("not 128-bit length");return new Et(e)}static fromFieldsV7(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");let i=new Uint8Array(16);return i[0]=e/2**40,i[1]=e/2**32,i[2]=e/2**24,i[3]=e/2**16,i[4]=e/2**8,i[5]=e,i[6]=112|r>>>8,i[7]=r,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new Et(i)}static parse(e){var r,n,s,i;let a;switch(e.length){case 32:a=(r=/^[0-9a-f]{32}$/i.exec(e))===null||r===void 0?void 0:r[0];break;case 36:a=(n=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||n===void 0?void 0:n.slice(1,6).join("");break;case 38:a=(s=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e))===null||s===void 0?void 0:s.slice(1,6).join("");break;case 45:a=(i=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||i===void 0?void 0:i.slice(1,6).join("");break}if(a){let o=new Uint8Array(16);for(let c=0;c<16;c+=4){let l=parseInt(a.substring(2*c,2*c+8),16);o[c+0]=l>>>24,o[c+1]=l>>>16,o[c+2]=l>>>8,o[c+3]=l}return new Et(o)}else throw new SyntaxError("could not parse UUID string")}toString(){let e="";for(let r=0;r<this.bytes.length;r++)e+=Wt.charAt(this.bytes[r]>>>4),e+=Wt.charAt(this.bytes[r]&15),(r===3||r===5||r===7||r===9)&&(e+="-");return e}toHex(){let e="";for(let r=0;r<this.bytes.length;r++)e+=Wt.charAt(this.bytes[r]>>>4),e+=Wt.charAt(this.bytes[r]&15);return e}toJSON(){return this.toString()}getVariant(){let e=this.bytes[8]>>>4;if(e<0)throw new Error("unreachable");if(e<=7)return this.bytes.every(r=>r===0)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(r=>r===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new Et(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let r=0;r<16;r++){let n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}},Jn=class{constructor(t){this.timestamp=0,this.counter=0,this.random=t??la()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(t,e){let r=this.generateOrAbortCore(t,e);return r===void 0&&(this.timestamp=0,r=this.generateOrAbortCore(t,e)),r}generateOrAbortCore(t,e){if(!Number.isInteger(t)||t<1||t>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(e<0||e>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(t>this.timestamp)this.timestamp=t,this.resetCounter();else if(t+e>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return Ue.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){let t=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return t[6]=64|t[6]>>>4,t[8]=128|t[8]>>>2,Ue.ofInner(t)}},la=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new ua;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}},ua=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},Kt,da=()=>(Kt||(Kt=new Jn)).generate(),fa=()=>(Kt||(Kt=new Jn)).generateV4(),Dr=class mr{inner;constructor(e){e instanceof ArrayBuffer?this.inner=Ue.ofInner(new Uint8Array(e)):e instanceof Uint8Array?this.inner=Ue.ofInner(e):e instanceof mr?this.inner=e.inner:e instanceof Ue?this.inner=e:this.inner=Ue.parse(e)}toString(){return this.inner.toString()}toJSON(){return this.inner.toString()}toUint8Array(){return this.inner.bytes}toBuffer(){return this.inner.bytes.buffer}static v4(){return new mr(fa())}static v7(){return new mr(da())}},ha=0,Yn=37,qn=6,Hn=7,Ur=8,pa=9,Xn=10,Qn=12,ma=13,es=14,ts=88,rs=89,ns=90,ss=91,is=92,as=93,os=94,nt={encode(t){return t instanceof Date?new U(Qn,ea(t)):t===void 0?new U(qn,null):t instanceof Dr?new U(Yn,t.toBuffer()):t instanceof jr?new U(Xn,t.toString()):t instanceof Lr?new U(es,t.toCompact()):t instanceof Fn?new U(Ur,[t.tb,t.id]):t instanceof ia?new U(Ur,t.rid):t instanceof Kn?new U(Hn,t.tb):t instanceof Dn?new U(ts,t.point):t instanceof Un?new U(rs,t.line):t instanceof Zn?new U(ns,t.polygon):t instanceof Vn?new U(ss,t.points):t instanceof Bn?new U(is,t.lines):t instanceof Gn?new U(as,t.polygons):t instanceof zn?new U(os,t.collection):t},decode(t){if(!(t instanceof U))return t;switch(t.tag){case ha:return new Date(t.value);case Yn:case pa:return new Dr(t.value);case Qn:return ta(t.value);case qn:return;case Xn:return new jr(t.value);case ma:return new Lr(t.value);case es:return Lr.fromCompact(t.value);case Hn:return new Kn(t.value);case Ur:return new Fn(t.value[0],t.value[1]);case ts:return new Dn(t.value);case rs:return new Un(t.value);case ns:return new Zn(t.value);case ss:return new Vn(t.value);case is:return new Bn(t.value);case as:return new Gn(t.value);case os:return new zn(t.value)}}};Object.freeze(nt);function ga(t){return Le(t,{replacer:nt.encode})}function ya(t){return Mn(t,{replacer:nt.decode})}var ba=class{query;bindings;constructor(t,e,r){this.query=new Cr(Le(t)),this.bindings=Or(e??{},{replacer:nt.encode})}build(t){return Le([this.query,this.bindings])}};function cs(t){let e={},r=(n,s,i)=>{if(n in t)e[s]=`${t[n]}`,delete e[n];else if(i!==!0)throw new j(`Key ${n} is missing from the authentication parameters`)};return"scope"in t?(e={...t},r("scope","sc"),r("namespace","ns"),r("database","db")):"variables"in t?(e={...t.variables},r("access","ac"),r("namespace","ns"),r("database","db")):(r("access","ac",!0),r("database","db",!0),r("namespace","ns",!("database"in t)),r("username","user"),r("password","pass")),e}var wa=["CREATE","UPDATE","DELETE"];function va(t){return!(typeof t!="object"||t===null||!("id"in t&&"action"in t&&"result"in t)||!(t.id instanceof Dr)||!wa.includes(t.action)||typeof t.result!="object"||t.result===null)}var _a=5e3,ls="1.4.2",us="3.0.0";function xa(t,e=ls,r=us){if(!ka(t,e,r))throw new Qi(t,`>= ${e} < ${r}`);return!0}function ka(t,e=ls,r=us){return e.localeCompare(t,void 0,{numeric:!0})<=0&&r.localeCompare(t,void 0,{numeric:!0})===1}async function ds(t,e){let r={"ws:":"http:","wss:":"https:","http:":"http:","https:":"https:"}[t.protocol];if(r){let n=t.pathname.slice(0,-4);t=new URL(t),t.pathname=`${n}/version`,t.protocol=r;let s=new AbortController,i=setTimeout(()=>s.abort(),e??_a),a="surrealdb-";return await fetch(t,{signal:s.signal}).then(o=>o.text()).then(o=>o.slice(a.length)).catch(o=>{throw new Nn(o)}).finally(()=>{clearTimeout(i)})}throw new Nn}var Zr=0;function fs(){return Zr=(Zr+1)%Number.MAX_SAFE_INTEGER,Zr.toString()}var Sa=(t=>(t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Error="error",t))(Sa||{}),Ea=class{emitter;encodeCbor;decodeCbor;constructor({emitter:t,encodeCbor:e,decodeCbor:r}){this.emitter=t,this.encodeCbor=e,this.decodeCbor=r}},hs=class{context;ready;status="disconnected";connection={url:void 0,namespace:void 0,database:void 0,token:void 0};constructor(t){this.context=t}get emitter(){return this.context.emitter}get encodeCbor(){return this.context.encodeCbor}get decodeCbor(){return this.context.decodeCbor}};function ps(t,e){if("scope"in t||"access"in t&&"variables"in t&&t.variables){if(!t.namespace){if(!e?.namespace)throw new Hi;t.namespace=e.namespace}if(!t.database){if(!e?.database)throw new Xi;t.database=e.database}}return t}var ms=class extends hs{connection={url:void 0,namespace:void 0,database:void 0,token:void 0,variables:{}};setStatus(t,...e){this.status=t,this.emitter.emit(t,e)}version(t,e){return ds(t,e)}connect(t){return this.setStatus("connecting"),this.connection.url=t,this.setStatus("connected"),this.ready=new Promise(e=>e()),this.ready}disconnect(){return this.connection={url:void 0,namespace:void 0,database:void 0,token:void 0,variables:{}},this.ready=void 0,this.setStatus("disconnected"),new Promise(t=>t())}async rpc(t){if(await this.ready,!this.connection.url)throw new Tn;if(t.method==="use"){let[i,a]=t.params;return i===null&&(this.connection.namespace=void 0),a===null&&(this.connection.database=void 0),i&&(this.connection.namespace=i),a&&(this.connection.database=a),{result:!0}}if(t.method==="let"){let[i,a]=t.params;return this.connection.variables[i]=a,{result:!0}}if(t.method==="unset"){let[i]=t.params;return delete this.connection.variables[i],{result:!0}}if(t.method==="query"&&(t.params=[t.params?.[0],{...this.connection.variables,...t.params?.[1]??{}}]),!this.connection.namespace||!this.connection.database)throw new Yi;let e=fs(),r=await fetch(`${this.connection.url}`,{method:"POST",headers:{"Content-Type":"application/cbor",Accept:"application/cbor","Surreal-NS":this.connection.namespace,"Surreal-DB":this.connection.database,...this.connection.token?{Authorization:`Bearer ${this.connection.token}`}:{}},body:this.encodeCbor({id:e,...t})}),n=await r.arrayBuffer();if(r.status===200){let i=this.decodeCbor(n);if("result"in i)switch(t.method){case"signin":case"signup":{this.connection.token=i.result;break}case"authenticate":{let[a]=t.params;this.connection.token=a;break}case"invalidate":{this.connection.token=void 0;break}}return this.emitter.emit(`rpc-${e}`,[i]),i}let s=new TextDecoder("utf-8");throw new qi(s.decode(n),r.status,r.statusText,n)}get connected(){return!!this.connection.url}};function Ca(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Aa=Ca(),gs=class extends hs{pinger;socket;constructor(t){super(t),this.emitter.subscribe("disconnected",()=>this.pinger?.stop())}setStatus(t,...e){this.status=t,this.emitter.emit(t,e)}async requireStatus(t){return this.status!==t&&await this.emitter.subscribeOnce(t),!0}version(t,e){return ds(t,e)}async connect(t){this.connection.url=t,this.setStatus("connecting");let e=new Aa(t.toString(),"cbor"),r=new Promise((n,s)=>{e.addEventListener("open",()=>{this.setStatus("connected"),n()}),e.addEventListener("error",i=>{let a=new Ki("error"in i?i.error:"An unexpected error occurred");this.setStatus("error",a),s(a)}),e.addEventListener("close",()=>{this.setStatus("disconnected")}),e.addEventListener("message",async({data:i})=>{try{let a=this.decodeCbor(i instanceof Blob?await i.arrayBuffer():i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength));if(typeof a=="object"&&a!=null&&Object.getPrototypeOf(a)===Object.prototype)this.handleRpcResponse(a);else throw new An(a)}catch(a){e.dispatchEvent(new CustomEvent("error",{detail:a}))}})});return this.ready=r,await r.then(()=>{this.socket=e,this.pinger?.stop(),this.pinger=new Ta(3e4),this.pinger.start(()=>this.rpc({method:"ping"}))})}async disconnect(){this.connection={url:void 0,namespace:void 0,database:void 0,token:void 0},await this.ready?.catch(()=>{}),this.socket?.close(),this.ready=void 0,this.socket=void 0,await Promise.any([this.requireStatus("disconnected"),this.requireStatus("error")])}async rpc(t){if(await this.ready,!this.socket)throw new Tn;let e=fs(),r=this.emitter.subscribeOnce(`rpc-${e}`);this.socket.send(this.encodeCbor({id:e,...t}));let[n]=await r;if(n instanceof Cn)throw n;if("result"in n)switch(t.method){case"use":{let[s,i]=t.params;s===null&&(this.connection.namespace=void 0),i===null&&(this.connection.database=void 0),s&&(this.connection.namespace=s),i&&(this.connection.database=i);break}case"signin":case"signup":{this.connection.token=n.result;break}case"authenticate":{let[s]=t.params;this.connection.token=s;break}case"invalidate":{this.connection.token=void 0;break}}return n}handleRpcResponse({id:t,...e}){if(t)this.emitter.emit(`rpc-${t}`,[e]);else if(e.error)this.setStatus("error",new N(e.error));else if(va(e.result)){let{id:r,action:n,result:s}=e.result;this.emitter.emit(`live-${r}`,[n,s],!0)}else this.setStatus("error",new An({id:t,...e}))}get connected(){return!!this.socket}},Ta=class{pinger;interval;constructor(t=3e4){this.interval=t}start(t){this.pinger=setInterval(t,this.interval)}stop(){clearInterval(this.pinger)}},Oa=class{connection;ready;emitter;engines={ws:gs,wss:gs,http:ms,https:ms};constructor({engines:t}={}){this.emitter=new zi,this.emitter.subscribe("disconnected",()=>this.clean()),this.emitter.subscribe("error",()=>this.close()),t&&(this.engines={...this.engines,...t})}async connect(t,e={}){t=new URL(t),t.pathname.endsWith("/rpc")||(t.pathname.endsWith("/")||(t.pathname+="/"),t.pathname+="rpc");let r=t.protocol.slice(0,-1),n=this.engines[r];if(!n)throw new Ji(r);let{prepare:s,auth:i,namespace:a,database:o}=e;await this.close();let c=new Ea({emitter:this.emitter,encodeCbor:ga,decodeCbor:ya}),l=new n(c);if(e.versionCheck!==!1){let u=await l.version(t,e.versionCheckTimeout);xa(u)}return this.connection=l,this.ready=new Promise((u,d)=>l.connect(t).then(async()=>{(a||o)&&await this.use({namespace:a,database:o}),typeof i=="string"?await this.authenticate(i):i&&await this.signin(i),await s?.(this),u()}).catch(d)),await this.ready,!0}async close(){return this.clean(),await this.connection?.disconnect(),!0}clean(){let t=this.emitter.scanListeners(r=>r.startsWith("rpc-"));t.map(r=>this.emitter.emit(r,[new Cn]));let e=this.emitter.scanListeners(r=>r.startsWith("live-"));e.map(r=>this.emitter.emit(r,["CLOSE","disconnected"])),this.emitter.reset({collectable:!0,listeners:[...t,...e]})}get status(){return this.connection?.status??"disconnected"}async ping(){let{error:t}=await this.rpc("ping");if(t)throw new N(t.message);return!0}async use({namespace:t,database:e}){if(!this.connection)throw new Ce;if(t===null&&e!==null)throw new j("Cannot unset namespace without unsetting database");let{error:r}=await this.rpc("use",[t,e]);if(r)throw new N(r.message);return!0}async info(){await this.ready;let t=await this.rpc("info");if(t.error)throw new N(t.error.message);return t.result??void 0}async signup(t){if(!this.connection)throw new Ce;let e=ps(t,this.connection.connection),r=cs(e),n=await this.rpc("signup",[r]);if(n.error)throw new N(n.error.message);if(!n.result)throw new On;return n.result}async signin(t){if(!this.connection)throw new Ce;let e=ps(t,this.connection.connection),r=cs(e),n=await this.rpc("signin",[r]);if(n.error)throw new N(n.error.message);if(!n.result)throw new On;return n.result}async authenticate(t){let e=await this.rpc("authenticate",[t]);if(e.error)throw new N(e.error.message);return!0}async invalidate(){let t=await this.rpc("invalidate");if(t.error)throw new N(t.error.message);return!0}async let(t,e){let r=await this.rpc("let",[t,e]);if(r.error)throw new N(r.error.message);return!0}async unset(t){let e=await this.rpc("unset",[t]);if(e.error)throw new N(e.error.message);return!0}async live(t,e,r){await this.ready;let n=await this.rpc("live",[t,r]);if(n.error)throw new N(n.error.message);return e&&this.subscribeLive(n.result,e),n.result}async subscribeLive(t,e){if(await this.ready,!this.connection)throw new Ce;this.connection.emitter.subscribe(`live-${t}`,e,!0)}async unSubscribeLive(t,e){if(await this.ready,!this.connection)throw new Ce;this.connection.emitter.unSubscribe(`live-${t}`,e)}async kill(t){if(await this.ready,!this.connection)throw new Ce;if(Array.isArray(t)){await Promise.all(t.map(r=>this.rpc("kill",[r])));let e=t.map(r=>`live-${r}`);e.map(r=>this.emitter.emit(r,["CLOSE","killed"])),this.connection.emitter.reset({collectable:e,listeners:e})}else await this.rpc("kill",[t]),this.emitter.emit(`live-${t}`,["CLOSE","killed"]),this.connection.emitter.reset({collectable:`live-${t}`,listeners:`live-${t}`})}async query(...t){return(await this.query_raw(...t)).map(({status:e,result:r})=>{if(e==="ERR")throw new N(r);return r})}async query_raw(...[t,e]){let r=t instanceof ba?[t.query,Or(t.bindings,{fills:e,replacer:nt.encode})]:[t,e];await this.ready;let n=await this.rpc("query",r);if(n.error)throw new N(n.error.message);return n.result}async select(t){await this.ready;let e=await this.rpc("select",[t]);if(e.error)throw new N(e.error.message);return e.result}async create(t,e){await this.ready;let r=await this.rpc("create",[t,e]);if(r.error)throw new N(r.error.message);return r.result}async insert(t,e){await this.ready;let r=await this.rpc("insert",[t,e]);if(r.error)throw new N(r.error.message);return r.result}async update(t,e){await this.ready;let r=await this.rpc("update",[t,e]);if(r.error)throw new N(r.error.message);return r.result}async upsert(t,e){await this.ready;let r=await this.rpc("upsert",[t,e]);if(r.error)throw new N(r.error.message);return r.result}async merge(t,e){await this.ready;let r=await this.rpc("merge",[t,e]);if(r.error)throw new N(r.error.message);return r.result}async patch(t,e,r){await this.ready;let n=await this.rpc("patch",[t,e,r]);if(n.error)throw new N(n.error.message);return n.result}async delete(t){await this.ready;let e=await this.rpc("delete",[t]);if(e.error)throw new N(e.error.message);return e.result}async version(){await this.ready;let t=await this.rpc("version");if(t.error)throw new N(t.error.message);return t.result}async run(t,e,r){await this.ready;let[n,s]=Array.isArray(e)?[void 0,e]:[e,r],i=await this.rpc("run",[t,n,s]);if(i.error)throw new N(i.error.message);return i.result}async relate(t,e,r,n){await this.ready;let s=await this.rpc("relate",[t,e,r,n]);if(s.error)throw new N(s.error.message);return s.result}rpc(t,e){if(!this.connection)throw new Ce;return this.connection.rpc({method:t,params:e})}};/*! Bundled license information:

  uuidv7/dist/index.js:
    (**
     * uuidv7: A JavaScript implementation of UUID version 7
     *
     * @license Apache-2.0
     * @copyright 2021-2024 LiosK
     * @packageDocumentation
     *)
  */const Jt=t=>{};I(void 0,{equals:!1});const ys=t=>t.pop().pop(),Na=async(t,e=10)=>{for(;!t();)await new Promise(r=>setTimeout(r,e))};class $a{#e;#t;#r;#n;#s;constructor(e,r,n){this.#e=new Oa,this.#t=new URL(`${e}/rpc`).toString(),this.#r=r,this.#n=n,this.#s=!1}async connect(){try{console.info("Connecting Surrealdb..."),await this.#e.connect(this.#t,{namespace:this.#r,database:this.#n})}catch(e){throw console.error(e),e}return this.#s=!0,console.info(`DbService connected: ${this.#n}@${this.#r}:${this.#t}`),this}async disconnect(){this.#e.status==="connected"&&await this.#e.close(),this.#s=!1}async getDb(){return await Na(()=>this.#e.status==="connected"),this.#e}get isConnected(){return this.#s}async getAccountDetails(){try{const e=await this.#e.query("SELECT email FROM account;");return ys(e)}catch(e){throw e}}async setAccountDetails(e){try{await this.#e.merge("account",e)}catch(r){throw r}}async getProfileDetails(){try{const e=await this.#e.query("SELECT firstName, lastName, address, phone  FROM profile;");return ys(e)}catch(e){throw e}}async setProfileDetails(e){try{await this.#e.merge("profile",e)}catch(r){throw r}}}var C;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(C||(C={}));var Vr;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Vr||(Vr={}));const p=C.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),we=t=>{switch(typeof t){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(t)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(t)?p.array:t===null?p.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?p.promise:typeof Map<"u"&&t instanceof Map?p.map:typeof Set<"u"&&t instanceof Set?p.set:typeof Date<"u"&&t instanceof Date?p.date:p.object;default:return p.unknown}},f=C.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ja=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class H extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return s(this),n}static assert(e){if(!(e instanceof H))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,C.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}H.create=t=>new H(t);const Ze=(t,e)=>{let r;switch(t.code){case f.invalid_type:t.received===p.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case f.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,C.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:r=`Unrecognized key(s) in object: ${C.joinValues(t.keys,", ")}`;break;case f.invalid_union:r="Invalid input";break;case f.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${C.joinValues(t.options)}`;break;case f.invalid_enum_value:r=`Invalid enum value. Expected ${C.joinValues(t.options)}, received '${t.received}'`;break;case f.invalid_arguments:r="Invalid function arguments";break;case f.invalid_return_type:r="Invalid function return type";break;case f.invalid_date:r="Invalid date";break;case f.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:C.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case f.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case f.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case f.custom:r="Invalid input";break;case f.invalid_intersection_types:r="Intersection results could not be merged";break;case f.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case f.not_finite:r="Number must be finite";break;default:r=e.defaultError,C.assertNever(t)}return{message:r}};let bs=Ze;function Pa(t){bs=t}function Yt(){return bs}const qt=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},Ra=[];function h(t,e){const r=Yt(),n=qt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ze?void 0:Ze].filter(s=>!!s)});t.common.issues.push(n)}class W{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return w;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return W.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return w;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const w=Object.freeze({status:"aborted"}),Ve=t=>({status:"dirty",value:t}),Y=t=>({status:"valid",value:t}),Br=t=>t.status==="aborted",Gr=t=>t.status==="dirty",st=t=>t.status==="valid",it=t=>typeof Promise<"u"&&t instanceof Promise;function Ht(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ws(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}typeof SuppressedError=="function"&&SuppressedError;var g;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(g||(g={}));var at,ot;class le{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vs=(t,e)=>{if(st(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new H(t.common.issues);return this._error=r,this._error}}};function v(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,l;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}},description:s}}class x{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return we(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:we(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new W,ctx:{common:e.parent.common,data:e.data,parsedType:we(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(it(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:we(e)},i=this._parseSync({data:e,path:s.path,parent:s});return vs(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:we(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(it(s)?s:Promise.resolve(s));return vs(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:f.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new ie({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return de.create(this,this._def)}nullable(){return ke.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return se.create(this,this._def)}promise(){return Fe.create(this,this._def)}or(e){return dt.create([this,e],this._def)}and(e){return ft.create(this,e,this._def)}transform(e){return new ie({...v(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new yt({...v(this._def),innerType:this,defaultValue:r,typeName:b.ZodDefault})}brand(){return new Wr({typeName:b.ZodBranded,type:this,...v(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new bt({...v(this._def),innerType:this,catchValue:r,typeName:b.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return wt.create(this,e)}readonly(){return vt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ia=/^c[^\s-]{8,}$/i,Ma=/^[0-9a-z]+$/,La=/^[0-9A-HJKMNP-TV-Z]{26}$/,Da=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ua=/^[a-z0-9_-]{21}$/i,Za=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Va=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ba="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zr;const Ga=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,za=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Fa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_s="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wa=new RegExp(`^${_s}$`);function xs(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ka(t){return new RegExp(`^${xs(t)}$`)}function ks(t){let e=`${_s}T${xs(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ja(t,e){return!!((e==="v4"||!e)&&Ga.test(t)||(e==="v6"||!e)&&za.test(t))}class ne extends x{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){const i=this._getOrReturnCtx(e);return h(i,{code:f.invalid_type,expected:p.string,received:i.parsedType}),w}const n=new W;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:f.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:f.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?h(s,{code:f.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&h(s,{code:f.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Va.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"email",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")zr||(zr=new RegExp(Ba,"u")),zr.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"emoji",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Da.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"uuid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Ua.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"nanoid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ia.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"cuid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ma.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"cuid2",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")La.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"ulid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),h(s,{validation:"url",code:f.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"regex",code:f.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ks(i).test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Wa.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ka(i).test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:f.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Za.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"duration",code:f.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ja(e.data,i.version)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"ip",code:f.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Fa.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"base64",code:f.invalid_string,message:i.message}),n.dirty()):C.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:f.invalid_string,...g.errToObj(n)})}_addCheck(e){return new ne({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...g.errToObj(e)})}url(e){return this._addCheck({kind:"url",...g.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...g.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...g.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...g.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...g.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...g.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...g.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...g.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...g.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...g.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...g.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...g.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...g.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...g.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...g.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...g.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...g.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...g.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...g.errToObj(r)})}nonempty(e){return this.min(1,g.errToObj(e))}trim(){return new ne({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ne({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ne({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ne.create=t=>{var e;return new ne({checks:[],typeName:b.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...v(t)})};function Ya(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class ve extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){const i=this._getOrReturnCtx(e);return h(i,{code:f.invalid_type,expected:p.number,received:i.parsedType}),w}let n;const s=new W;for(const i of this._def.checks)i.kind==="int"?C.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:f.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ya(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:f.not_finite,message:i.message}),s.dirty()):C.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,n,s){return new ve({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:g.toString(s)}]})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:g.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:g.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&C.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ve.create=t=>new ve({checks:[],typeName:b.ZodNumber,coerce:t?.coerce||!1,...v(t)});class _e extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==p.bigint){const i=this._getOrReturnCtx(e);return h(i,{code:f.invalid_type,expected:p.bigint,received:i.parsedType}),w}let n;const s=new W;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),h(n,{code:f.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):C.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,n,s){return new _e({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:g.toString(s)}]})}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}_e.create=t=>{var e;return new _e({checks:[],typeName:b.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...v(t)})};class ct extends x{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==p.boolean){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.boolean,received:n.parsedType}),w}return Y(e.data)}}ct.create=t=>new ct({typeName:b.ZodBoolean,coerce:t?.coerce||!1,...v(t)});class Oe extends x{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){const i=this._getOrReturnCtx(e);return h(i,{code:f.invalid_type,expected:p.date,received:i.parsedType}),w}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return h(i,{code:f.invalid_date}),w}const n=new W;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:f.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:f.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):C.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:g.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:g.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Oe.create=t=>new Oe({checks:[],coerce:t?.coerce||!1,typeName:b.ZodDate,...v(t)});class Xt extends x{_parse(e){if(this._getType(e)!==p.symbol){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.symbol,received:n.parsedType}),w}return Y(e.data)}}Xt.create=t=>new Xt({typeName:b.ZodSymbol,...v(t)});class lt extends x{_parse(e){if(this._getType(e)!==p.undefined){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.undefined,received:n.parsedType}),w}return Y(e.data)}}lt.create=t=>new lt({typeName:b.ZodUndefined,...v(t)});class ut extends x{_parse(e){if(this._getType(e)!==p.null){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.null,received:n.parsedType}),w}return Y(e.data)}}ut.create=t=>new ut({typeName:b.ZodNull,...v(t)});class Be extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return Y(e.data)}}Be.create=t=>new Be({typeName:b.ZodAny,...v(t)});class Ne extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Y(e.data)}}Ne.create=t=>new Ne({typeName:b.ZodUnknown,...v(t)});class he extends x{_parse(e){const r=this._getOrReturnCtx(e);return h(r,{code:f.invalid_type,expected:p.never,received:r.parsedType}),w}}he.create=t=>new he({typeName:b.ZodNever,...v(t)});class Qt extends x{_parse(e){if(this._getType(e)!==p.undefined){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.void,received:n.parsedType}),w}return Y(e.data)}}Qt.create=t=>new Qt({typeName:b.ZodVoid,...v(t)});class se extends x{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==p.array)return h(r,{code:f.invalid_type,expected:p.array,received:r.parsedType}),w;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(h(r,{code:a?f.too_big:f.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(h(r,{code:f.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(h(r,{code:f.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new le(r,a,r.path,o)))).then(a=>W.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new le(r,a,r.path,o)));return W.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new se({...this._def,minLength:{value:e,message:g.toString(r)}})}max(e,r){return new se({...this._def,maxLength:{value:e,message:g.toString(r)}})}length(e,r){return new se({...this._def,exactLength:{value:e,message:g.toString(r)}})}nonempty(e){return this.min(1,e)}}se.create=(t,e)=>new se({type:t,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...v(e)});function Ge(t){if(t instanceof P){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=de.create(Ge(n))}return new P({...t._def,shape:()=>e})}else return t instanceof se?new se({...t._def,type:Ge(t.element)}):t instanceof de?de.create(Ge(t.unwrap())):t instanceof ke?ke.create(Ge(t.unwrap())):t instanceof ue?ue.create(t.items.map(e=>Ge(e))):t}class P extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=C.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==p.object){const l=this._getOrReturnCtx(e);return h(l,{code:f.invalid_type,expected:p.object,received:l.parsedType}),w}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof he&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new le(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof he){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")o.length>0&&(h(s,{code:f.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new le(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,k=await u.value;l.push({key:d,value:k,alwaysSet:u.alwaysSet})}return l}).then(l=>W.mergeObjectSync(n,l)):W.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return g.errToObj,new P({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=g.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new P({...this._def,unknownKeys:"strip"})}passthrough(){return new P({...this._def,unknownKeys:"passthrough"})}extend(e){return new P({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new P({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new P({...this._def,catchall:e})}pick(e){const r={};return C.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new P({...this._def,shape:()=>r})}omit(e){const r={};return C.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new P({...this._def,shape:()=>r})}deepPartial(){return Ge(this)}partial(e){const r={};return C.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new P({...this._def,shape:()=>r})}required(e){const r={};return C.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof de;)i=i._def.innerType;r[n]=i}}),new P({...this._def,shape:()=>r})}keyof(){return Ss(C.objectKeys(this.shape))}}P.create=(t,e)=>new P({shape:()=>t,unknownKeys:"strip",catchall:he.create(),typeName:b.ZodObject,...v(e)}),P.strictCreate=(t,e)=>new P({shape:()=>t,unknownKeys:"strict",catchall:he.create(),typeName:b.ZodObject,...v(e)}),P.lazycreate=(t,e)=>new P({shape:t,unknownKeys:"strip",catchall:he.create(),typeName:b.ZodObject,...v(e)});class dt extends x{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new H(o.ctx.common.issues));return h(r,{code:f.invalid_union,unionErrors:a}),w}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new H(c));return h(r,{code:f.invalid_union,unionErrors:o}),w}}get options(){return this._def.options}}dt.create=(t,e)=>new dt({options:t,typeName:b.ZodUnion,...v(e)});const pe=t=>t instanceof pt?pe(t.schema):t instanceof ie?pe(t.innerType()):t instanceof mt?[t.value]:t instanceof xe?t.options:t instanceof gt?C.objectValues(t.enum):t instanceof yt?pe(t._def.innerType):t instanceof lt?[void 0]:t instanceof ut?[null]:t instanceof de?[void 0,...pe(t.unwrap())]:t instanceof ke?[null,...pe(t.unwrap())]:t instanceof Wr||t instanceof vt?pe(t.unwrap()):t instanceof bt?pe(t._def.innerType):[];class er extends x{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==p.object)return h(r,{code:f.invalid_type,expected:p.object,received:r.parsedType}),w;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(h(r,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=pe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new er({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...v(n)})}}function Fr(t,e){const r=we(t),n=we(e);if(t===e)return{valid:!0,data:t};if(r===p.object&&n===p.object){const s=C.objectKeys(e),i=C.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=Fr(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===p.array&&n===p.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=Fr(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===p.date&&n===p.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ft extends x{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Br(i)||Br(a))return w;const o=Fr(i.value,a.value);return o.valid?((Gr(i)||Gr(a))&&r.dirty(),{status:r.value,value:o.data}):(h(n,{code:f.invalid_intersection_types}),w)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ft.create=(t,e,r)=>new ft({left:t,right:e,typeName:b.ZodIntersection,...v(r)});class ue extends x{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.array)return h(n,{code:f.invalid_type,expected:p.array,received:n.parsedType}),w;if(n.data.length<this._def.items.length)return h(n,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&n.data.length>this._def.items.length&&(h(n,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new le(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>W.mergeArray(r,a)):W.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ue({...this._def,rest:e})}}ue.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ue({items:t,typeName:b.ZodTuple,rest:null,...v(e)})};class ht extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.object)return h(n,{code:f.invalid_type,expected:p.object,received:n.parsedType}),w;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new le(n,o,n.path,o)),value:a._parse(new le(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?W.mergeObjectAsync(r,s):W.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof x?new ht({keyType:e,valueType:r,typeName:b.ZodRecord,...v(n)}):new ht({keyType:ne.create(),valueType:e,typeName:b.ZodRecord,...v(r)})}}class tr extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.map)return h(n,{code:f.invalid_type,expected:p.map,received:n.parsedType}),w;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],l)=>({key:s._parse(new le(n,o,n.path,[l,"key"])),value:i._parse(new le(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return w;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return w;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}}}}tr.create=(t,e,r)=>new tr({valueType:e,keyType:t,typeName:b.ZodMap,...v(r)});class $e extends x{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.set)return h(n,{code:f.invalid_type,expected:p.set,received:n.parsedType}),w;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(h(n,{code:f.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(h(n,{code:f.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return w;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const o=[...n.data.values()].map((c,l)=>i._parse(new le(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new $e({...this._def,minSize:{value:e,message:g.toString(r)}})}max(e,r){return new $e({...this._def,maxSize:{value:e,message:g.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}$e.create=(t,e)=>new $e({valueType:t,minSize:null,maxSize:null,typeName:b.ZodSet,...v(e)});class ze extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==p.function)return h(r,{code:f.invalid_type,expected:p.function,received:r.parsedType}),w;function n(o,c){return qt({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Yt(),Ze].filter(l=>!!l),issueData:{code:f.invalid_arguments,argumentsError:c}})}function s(o,c){return qt({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Yt(),Ze].filter(l=>!!l),issueData:{code:f.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Fe){const o=this;return Y(async function(...c){const l=new H([]),u=await o._def.args.parseAsync(c,i).catch(m=>{throw l.addIssue(n(c,m)),l}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(m=>{throw l.addIssue(s(d,m)),l})})}else{const o=this;return Y(function(...c){const l=o._def.args.safeParse(c,i);if(!l.success)throw new H([n(c,l.error)]);const u=Reflect.apply(a,this,l.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new H([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ze({...this._def,args:ue.create(e).rest(Ne.create())})}returns(e){return new ze({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ze({args:e||ue.create([]).rest(Ne.create()),returns:r||Ne.create(),typeName:b.ZodFunction,...v(n)})}}class pt extends x{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pt.create=(t,e)=>new pt({getter:t,typeName:b.ZodLazy,...v(e)});class mt extends x{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return h(r,{received:r.data,code:f.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:e.data}}get value(){return this._def.value}}mt.create=(t,e)=>new mt({value:t,typeName:b.ZodLiteral,...v(e)});function Ss(t,e){return new xe({values:t,typeName:b.ZodEnum,...v(e)})}class xe extends x{constructor(){super(...arguments),at.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return h(r,{expected:C.joinValues(n),received:r.parsedType,code:f.invalid_type}),w}if(Ht(this,at,"f")||ws(this,at,new Set(this._def.values),"f"),!Ht(this,at,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return h(r,{received:r.data,code:f.invalid_enum_value,options:n}),w}return Y(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return xe.create(e,{...this._def,...r})}exclude(e,r=this._def){return xe.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}at=new WeakMap,xe.create=Ss;class gt extends x{constructor(){super(...arguments),ot.set(this,void 0)}_parse(e){const r=C.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==p.string&&n.parsedType!==p.number){const s=C.objectValues(r);return h(n,{expected:C.joinValues(s),received:n.parsedType,code:f.invalid_type}),w}if(Ht(this,ot,"f")||ws(this,ot,new Set(C.getValidEnumValues(this._def.values)),"f"),!Ht(this,ot,"f").has(e.data)){const s=C.objectValues(r);return h(n,{received:n.data,code:f.invalid_enum_value,options:s}),w}return Y(e.data)}get enum(){return this._def.values}}ot=new WeakMap,gt.create=(t,e)=>new gt({values:t,typeName:b.ZodNativeEnum,...v(e)});class Fe extends x{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==p.promise&&r.common.async===!1)return h(r,{code:f.invalid_type,expected:p.promise,received:r.parsedType}),w;const n=r.parsedType===p.promise?r.data:Promise.resolve(r.data);return Y(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fe.create=(t,e)=>new Fe({type:t,typeName:b.ZodPromise,...v(e)});class ie extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{h(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return w;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?w:c.status==="dirty"||r.value==="dirty"?Ve(c.value):c});{if(r.value==="aborted")return w;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?w:o.status==="dirty"||r.value==="dirty"?Ve(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?w:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?w:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!st(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>st(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);C.assertNever(s)}}ie.create=(t,e,r)=>new ie({schema:t,typeName:b.ZodEffects,effect:e,...v(r)}),ie.createWithPreprocess=(t,e,r)=>new ie({schema:e,effect:{type:"preprocess",transform:t},typeName:b.ZodEffects,...v(r)});class de extends x{_parse(e){return this._getType(e)===p.undefined?Y(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}de.create=(t,e)=>new de({innerType:t,typeName:b.ZodOptional,...v(e)});class ke extends x{_parse(e){return this._getType(e)===p.null?Y(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ke.create=(t,e)=>new ke({innerType:t,typeName:b.ZodNullable,...v(e)});class yt extends x{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===p.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}yt.create=(t,e)=>new yt({innerType:t,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...v(e)});class bt extends x{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return it(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new H(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new H(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bt.create=(t,e)=>new bt({innerType:t,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...v(e)});class rr extends x{_parse(e){if(this._getType(e)!==p.nan){const n=this._getOrReturnCtx(e);return h(n,{code:f.invalid_type,expected:p.nan,received:n.parsedType}),w}return{status:"valid",value:e.data}}}rr.create=t=>new rr({typeName:b.ZodNaN,...v(t)});const qa=Symbol("zod_brand");class Wr extends x{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wt extends x{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?w:i.status==="dirty"?(r.dirty(),Ve(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?w:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new wt({in:e,out:r,typeName:b.ZodPipeline})}}class vt extends x{_parse(e){const r=this._def.innerType._parse(e),n=s=>(st(s)&&(s.value=Object.freeze(s.value)),s);return it(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}vt.create=(t,e)=>new vt({innerType:t,typeName:b.ZodReadonly,...v(e)});function Es(t,e={},r){return t?Be.create().superRefine((n,s)=>{var i,a;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(a=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,l=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...l,fatal:c})}}):Be.create()}const Ha={object:P.lazycreate};var b;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(b||(b={}));const Xa=(t,e={message:`Input not instance of ${t.name}`})=>Es(r=>r instanceof t,e),Cs=ne.create,As=ve.create,Qa=rr.create,eo=_e.create,Ts=ct.create,to=Oe.create,ro=Xt.create,no=lt.create,so=ut.create,io=Be.create,ao=Ne.create,oo=he.create,co=Qt.create,lo=se.create,uo=P.create,fo=P.strictCreate,ho=dt.create,po=er.create,mo=ft.create,go=ue.create,yo=ht.create,bo=tr.create,wo=$e.create,vo=ze.create,_o=pt.create,xo=mt.create,ko=xe.create,So=gt.create,Eo=Fe.create,Os=ie.create,Co=de.create,Ao=ke.create,To=ie.createWithPreprocess,Oo=wt.create;var X=Object.freeze({__proto__:null,defaultErrorMap:Ze,setErrorMap:Pa,getErrorMap:Yt,makeIssue:qt,EMPTY_PATH:Ra,addIssueToContext:h,ParseStatus:W,INVALID:w,DIRTY:Ve,OK:Y,isAborted:Br,isDirty:Gr,isValid:st,isAsync:it,get util(){return C},get objectUtil(){return Vr},ZodParsedType:p,getParsedType:we,ZodType:x,datetimeRegex:ks,ZodString:ne,ZodNumber:ve,ZodBigInt:_e,ZodBoolean:ct,ZodDate:Oe,ZodSymbol:Xt,ZodUndefined:lt,ZodNull:ut,ZodAny:Be,ZodUnknown:Ne,ZodNever:he,ZodVoid:Qt,ZodArray:se,ZodObject:P,ZodUnion:dt,ZodDiscriminatedUnion:er,ZodIntersection:ft,ZodTuple:ue,ZodRecord:ht,ZodMap:tr,ZodSet:$e,ZodFunction:ze,ZodLazy:pt,ZodLiteral:mt,ZodEnum:xe,ZodNativeEnum:gt,ZodPromise:Fe,ZodEffects:ie,ZodTransformer:ie,ZodOptional:de,ZodNullable:ke,ZodDefault:yt,ZodCatch:bt,ZodNaN:rr,BRAND:qa,ZodBranded:Wr,ZodPipeline:wt,ZodReadonly:vt,custom:Es,Schema:x,ZodSchema:x,late:Ha,get ZodFirstPartyTypeKind(){return b},coerce:{string:t=>ne.create({...t,coerce:!0}),number:t=>ve.create({...t,coerce:!0}),boolean:t=>ct.create({...t,coerce:!0}),bigint:t=>_e.create({...t,coerce:!0}),date:t=>Oe.create({...t,coerce:!0})},any:io,array:lo,bigint:eo,boolean:Ts,date:to,discriminatedUnion:po,effect:Os,enum:ko,function:vo,instanceof:Xa,intersection:mo,lazy:_o,literal:xo,map:bo,nan:Qa,nativeEnum:So,never:oo,null:so,nullable:Ao,number:As,object:uo,oboolean:()=>Ts().optional(),onumber:()=>As().optional(),optional:Co,ostring:()=>Cs().optional(),pipeline:Oo,preprocess:To,promise:Eo,record:yo,set:wo,strictObject:fo,string:Cs,symbol:ro,transformer:Os,tuple:go,undefined:no,union:ho,unknown:ao,void:co,NEVER:w,ZodIssueCode:f,quotelessJson:ja,ZodError:H});class Kr{#e;_state;constructor(e){this.#e=[],this._state=e}subscribe(e){return this.#e.push(e),()=>this.unsubscribe(e)}unsubscribe(e){this.#e=this.#e.filter(r=>r!==e)}#t(e){this.#e.forEach(r=>r(e))}setState(e){this._state=e,this.#t(e)}get state(){return structuredClone(this._state)}}X.object({isAuthenticated:X.boolean()});const No=()=>({isAuthenticated:!1});class $o extends Kr{#e;#t;#r;constructor(e,r){super(No()),this.#e=e,this.#t=r,this.#r=""}#n(){localStorage.accessToken=this.#r}async authenticate(){if(localStorage.accessToken){const e=await this.#e.getDb();this.#r=localStorage.accessToken;try{console.info("Authenticating token from localStorage..."),await e.authenticate(this.#r)}catch(r){return console.error(r),this.signout()}this.setState({isAuthenticated:this.isAuthenticated})}}async signup(e){const r=await this.#e.getDb();try{this.#r=await r.signup({namespace:this.#t.namespace,database:this.#t.database,scope:this.#t.scope,email:e.email,pass:e.pass})}catch(n){throw n}this.#n(),this.setState({isAuthenticated:this.isAuthenticated})}async signin(e){const r=await this.#e.getDb();try{this.#r=await r.signin({namespace:this.#t.namespace,database:this.#t.database,scope:this.#t.scope,email:e.email,pass:e.pass})}catch(n){throw n}this.#n(),this.setState({isAuthenticated:this.isAuthenticated})}async signout(){this.#r="",this.#n(),await(await this.#e.getDb()).invalidate(),this.setState({isAuthenticated:this.isAuthenticated})}get isAuthenticated(){return!!this.#r&&this.#e.isConnected}}const jo=new RegExp(/^[\p{L}'][ \p{L}'-]*[\p{L}]$/u),Po=new RegExp(/^([\+][1-9]{2})?[ ]?([0-9 ]{8})$/),Ro=new RegExp(/^[\p{L}'][ \p{L}\p{N}'-,]{8,}$/u),Io=new RegExp(/^(?=.*[0-9])(?=.*[a-z])(?!.* ).{3,16}$/),Ns=X.string().trim().email("Must be a valid email address"),$s=X.string().trim().regex(jo,"Must be a valid name"),js=X.string().trim().regex(Io,"Must be 3-16 charcters and contain one digit and a special char"),Mo=X.string().trim().regex(Ro,"Must be a valid street address").or(X.literal("")),Lo=X.preprocess(t=>t.split(" ").join(""),X.string().trim().regex(Po,"Must be a valid phone number").or(X.literal(""))),nr=(t,e,r)=>{const n=t.safeParse(e);if(n.success)return r({}),n.data;r(n.error.flatten())},Ps=(t,e)=>{const r=t.safeParse(e);r.success||console.warn("Incompatible data loaded:",r.error.flatten())},Rs=X.object({email:Ns,pass:js}),Do=Rs.omit({pass:!0}),Uo=()=>({email:"",pass:""});class Zo extends Kr{#e;constructor(e){super(Uo()),this.#e=e}async loadData(){const e=await this.#e.getAccountDetails();Ps(Do,e),this.setState(e)}async saveData(e){await this.#e.setAccountDetails(e),this.setState(e)}}const Is=X.object({firstName:$s,lastName:$s,address:Mo,phone:Lo}),Vo=Is,Bo=()=>({firstName:"",lastName:"",address:"",phone:""});class Go extends Kr{#e;constructor(e){super(Bo()),this.#e=e}async loadData(){const e=await this.#e.getProfileDetails();Ps(Vo,e),this.setState(e)}async saveData(e){await this.#e.setProfileDetails(e),this.setState(e)}}var zo=M("<div class=loading><sl-spinner style=font-size:50px;--track-width:10px;></sl-spinner><div>",!0,!1);const sr=t=>(()=>{var e=zo(),r=e.firstChild,n=r.nextSibling;return r._$owner=D(),E(n,()=>t.children),e})(),Ms=$t(),Fo=t=>{const e=new $a(t.datapoint,t.namespace,t.database),r=new $o(e,{namespace:t.namespace,database:t.database,scope:t.scope}),n=new Zo(e),s=new Go(e),i={auth:r,account:n,profile:s};return oe(()=>!e.isConnected,async()=>{await e.connect()}),y(Dt,{get fallback(){return y(sr,{})},get children(){return[z(()=>Jt()),y(Ms.Provider,{value:i,get children(){return t.children}})]}})},We=()=>Qe(Ms),Jr=Symbol("store-raw"),Ke=Symbol("store-node"),me=Symbol("store-has"),Ls=Symbol("store-self");function Ds(t){let e=t[re];if(!e&&(Object.defineProperty(t,re,{value:e=new Proxy(t,Jo)}),!Array.isArray(t))){const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let s=0,i=r.length;s<i;s++){const a=r[s];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function ir(t){let e;return t!=null&&typeof t=="object"&&(t[re]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function _t(t,e=new Set){let r,n,s,i;if(r=t!=null&&t[Jr])return r;if(!ir(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)s=t[a],(n=_t(s,e))!==s&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let c=0,l=a.length;c<l;c++)i=a[c],!o[i].get&&(s=t[i],(n=_t(s,e))!==s&&(t[i]=n))}return t}function ar(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function xt(t,e,r){if(t[e])return t[e];const[n,s]=I(r,{equals:!1,internal:!0});return n.$=s,t[e]=n}function Wo(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===re||e===Ke||(delete r.value,delete r.writable,r.get=()=>t[re][e]),r}function Us(t){wr()&&xt(ar(t,Ke),Ls)()}function Ko(t){return Us(t),Reflect.ownKeys(t)}const Jo={get(t,e,r){if(e===Jr)return t;if(e===re)return r;if(e===yr)return Us(t),r;const n=ar(t,Ke),s=n[e];let i=s?s():t[e];if(e===Ke||e===me||e==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);wr()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=xt(n,e,i)())}return ir(i)?Ds(i):i},has(t,e){return e===Jr||e===re||e===yr||e===Ke||e===me||e==="__proto__"?!0:(wr()&&xt(ar(t,me),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Ko,getOwnPropertyDescriptor:Wo};function or(t,e,r,n=!1){if(!n&&t[e]===r)return;const s=t[e],i=t.length;r===void 0?(delete t[e],t[me]&&t[me][e]&&s!==void 0&&t[me][e].$()):(t[e]=r,t[me]&&t[me][e]&&s===void 0&&t[me][e].$());let a=ar(t,Ke),o;if((o=xt(a,e,s))&&o.$(()=>r),Array.isArray(t)&&t.length!==i){for(let c=t.length;c<i;c++)(o=a[c])&&o.$();(o=xt(a,"length",i))&&o.$(t.length)}(o=a[Ls])&&o.$()}function Zs(t,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const s=r[n];or(t,s,e[s])}}function Yo(t,e){if(typeof e=="function"&&(e=e(t)),e=_t(e),Array.isArray(e)){if(t===e)return;let r=0,n=e.length;for(;r<n;r++){const s=e[r];t[r]!==s&&or(t,r,s)}or(t,"length",n)}else Zs(t,e)}function kt(t,e,r=[]){let n,s=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let c=0;c<n.length;c++)kt(t,[n[c]].concat(e),r);return}else if(o&&a==="function"){for(let c=0;c<t.length;c++)n(t[c],c)&&kt(t,[c].concat(e),r);return}else if(o&&a==="object"){const{from:c=0,to:l=t.length-1,by:u=1}=n;for(let d=c;d<=l;d+=u)kt(t,[d].concat(e),r);return}else if(e.length>1){kt(t[n],e,[n].concat(r));return}s=t[n],r=[n].concat(r)}let i=e[0];typeof i=="function"&&(i=i(s,r),i===s)||n===void 0&&i==null||(i=_t(i),n===void 0||ir(s)&&ir(i)&&!Array.isArray(i)?Zs(s,i):or(t,n,i))}function Yr(...[t,e]){const r=_t(t||{}),n=Array.isArray(r),s=Ds(r);function i(...a){ei(()=>{n&&a.length===1?Yo(r,a[0]):kt(r,a)})}return[s,i]}var qo=M("<div class=error><sl-icon class=icon name=exclamation-circle></sl-icon><span>.",!0,!1),Ho=M("<div class=field><sl-input>",!0,!1),Xo=M("<sl-icon class=rotate slot=suffix name=arrow-repeat>",!0,!1),Qo=M("<sl-button>",!0,!1),ec=M("<form>");const Se=t=>{const{t:e}=be(),[r,n]=mn(t,["isSubmiting","errors"]);return(()=>{var s=Ho(),i=s.firstChild;return yn(i,pn(n,{get disabled(){return r.isSubmiting}}),!1,!1),i._$owner=D(),E(s,y(fe,{get when(){return r.errors},get children(){var a=qo(),o=a.firstChild,c=o.nextSibling,l=c.firstChild;return o._$owner=D(),E(c,()=>r.errors?.map(u=>e(u)||u).join(". "),l),a}}),null),s})()},St=t=>{const[e,r]=mn(t,["isSubmiting","children"]);return(()=>{var n=Qo();return yn(n,pn(r,{get disabled(){return e.isSubmiting}}),!1,!0),n._$owner=D(),E(n,y(fe,{get when(){return e.isSubmiting},get children(){var s=Xo();return s._$owner=D(),s}}),null),E(n,()=>e.children,null),n})()},qr=t=>{const e=r=>{r.preventDefault(),t.onSubmit()};return(()=>{var r=ec();return r.addEventListener("submit",e),E(r,()=>t.children),r})()};var tc=M("<div class=form-error>"),rc=M("<div>"),nc=M("<section><h2>");const Vs=X.object({email:Ns,pass:js}),sc={email:"flemming@intergate.io",pass:"flemming8"},ic=()=>{const{t}=be(),{auth:e}=We(),[r,n]=Yr(sc),[s,i]=I(),[a,o]=I(),[c,l]=I({}),[u]=oe(()=>!0,async()=>await e.authenticate()),[d]=oe(a,_=>e.signin(_)),[k]=oe(s,_=>e.signup(_));Nt(async()=>{d.error&&l({formErrors:[t("Failed signing in"),t("Did you type your password and email correct?")]}),k.error&&l({formErrors:[t("Failed signing up"),t("Did you already sign up?")]})});const m=_=>R=>{n(_,R.target.value)},A=()=>d.loading||k.loading;return(()=>{var _=nc(),R=_.firstChild;return E(R,()=>t("Sign in")),E(_,y(Dt,{get fallback(){return y(sr,{})},get children(){return[z(()=>Jt(u())),y(qr,{onSubmit:()=>o(nr(Vs,r,l)),get children(){return[y(Se,{get label(){return t("Email")},type:"text",inputmode:"email",clearable:!0,required:!0,get value(){return r.email},get errors(){return c().fieldErrors?.email},get["data-invalid"](){return!!c().fieldErrors?.email||c().formErrors},get["on:sl-change"](){return m("email")},get isSubmiting(){return A()}}),y(Se,{get label(){return t("Password")},type:"password",inputmode:"text","password-toggle":!0,clearable:!0,required:!0,get value(){return r.pass},get errors(){return c().fieldErrors?.pass},get["on:sl-change"](){return m("pass")},get["data-invalid"](){return!!c().fieldErrors?.pass||c().formErrors},get isSubmiting(){return A()}}),y(fe,{get when(){return c().formErrors?.length},get children(){var O=tc();return E(O,()=>c().formErrors?.join(". ")),O}}),(()=>{var O=rc();return E(O,y(St,{onClick:()=>i(nr(Vs,r,l)),get isSubmiting(){return A()},variant:"neutral",get children(){return t("Sign up")}}),null),E(O,y(St,{type:"submit",variant:"primary",get isSubmiting(){return A()},get children(){return t("Sign in")}}),null),O})()]}})]}}),null),_})()},ac=()=>{const{t}=be(),{auth:e}=We(),[r,n]=I(),[s]=oe(r,()=>e.signout());return y(St,{get isSubmiting(){return s.loading},onClick:()=>n(!0),variant:"primary",get children(){return t("Sign out")}})};var oc=M("<div><sl-select>",!0,!1),cc=M("<sl-option>",!0,!1);const lc=(t={})=>{const r={...{languageCodeOnly:!0},...t},n=navigator.languages===void 0?[navigator.language]:navigator.languages;return n?n.map(s=>{const i=s.trim();return r.languageCodeOnly?i.split(/-|_/)[0]:i}):[]},uc=t=>{const{locale:e,setLocale:r}=be(),n=a=>{localStorage.langCode=a,r(a)};let s=localStorage.langCode;s||(s=lc()[0]??e()),s!==e()&&n(s);const i=z(()=>En.find(({code:a})=>a===e()));return(()=>{var a=oc(),o=a.firstChild;return o.addEventListener("sl-change",c=>n(c.target.value)),o._$owner=D(),E(o,y(fi,{each:En,children:c=>(()=>{var l=cc();return l._$owner=D(),E(l,()=>c.name),Q(()=>J(l,"value",c.code)),l})()})),Q(()=>J(o,"value",i()?.code)),a})()};var dc=M("<sl-avatar>",!0,!1),fc=M("<div class=top-bar><menu></menu><h1>");const hc=({firstName:t,lastName:e})=>[t,e].reduce((r,n)=>(r=r+(n.length?n[0]:""),r),""),pc=t=>{const{t:e}=be(),{profile:r,auth:n}=We(),s=tt(n),i=tt(r),a=()=>s()?.isAuthenticated,o=z(()=>i()&&hc(i()));return(()=>{var c=fc(),l=c.firstChild,u=l.nextSibling;return E(l,y(fe,{get when(){return a()},get children(){var d=dc();return d._$owner=D(),Q(()=>J(d,"initials",o())),d}}),null),E(l,y(uc,{}),null),E(l,y(fe,{get when(){return a()},get children(){return y(ac,{})}}),null),E(u,()=>e(t.title)),c})()};var mc=M("<section><h2></h2><p>Not implemented!");const Bs=t=>(()=>{var e=mc(),r=e.firstChild;return E(r,()=>t.title),e})();var gc=M("<div class=form-error>."),yc=M("<section><h2>");const bc=()=>{const{t}=be(),{auth:e,profile:r}=We(),[n,s]=I(),[i,a]=Yr(r.state),[o,c]=I({}),l=tt(r);Q(()=>{const m=l();m&&a(m)});const[u]=oe(()=>e.isAuthenticated,()=>r.loadData()),[d]=oe(n,m=>{r.saveData(m)});Nt(async()=>{d.error&&c({formErrors:[t("Error saving")]})});const k=m=>A=>{a(m,A.target.value)};return(()=>{var m=yc(),A=m.firstChild;return E(A,()=>t("Profile")),E(m,y(Dt,{get fallback(){return y(sr,{})},get children(){return[z(()=>Jt(u())),y(qr,{onSubmit:()=>s(nr(Is,i,c)),get children(){return[y(Se,{get label(){return t("First name")},inputmode:"text",autocapitalize:"words",spellcheck:!1,clearable:!0,required:!0,get value(){return i.firstName},get["on:sl-change"](){return k("firstName")},get["data-invalid"](){return!!o().fieldErrors?.firstName},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.firstName}}),y(Se,{get label(){return t("Last name")},inputmode:"text",autocapitalize:"words",spellcheck:!1,clearable:!0,required:!0,get value(){return i.lastName},get["on:sl-change"](){return k("lastName")},get["data-invalid"](){return!!o().fieldErrors?.lastName},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.lastName}}),y(Se,{get label(){return t("Address")},inputmode:"text",autocapitalize:"words",spellcheck:!1,clearable:!0,required:!1,get value(){return i.address},get["on:sl-change"](){return k("address")},get["data-invalid"](){return!!o().fieldErrors?.address},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.address}}),y(Se,{get label(){return t("Phone")},inputmode:"numeric",spellcheck:!1,clearable:!0,get value(){return i.phone},get["on:sl-change"](){return k("phone")},get["data-invalid"](){return!!o().fieldErrors?.phone},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.phone}}),y(fe,{get when(){return o().formErrors?.length},get children(){var _=gc(),R=_.firstChild;return E(_,()=>o().formErrors?.join(". "),R),_}}),y(St,{type:"submit",variant:"primary",get isSubmiting(){return d.loading},get children(){return t("Save")}})]}})]}}),null),m})()};var wc=M("<div class=form-error>."),vc=M("<section><h2>");const _c=()=>{const{t}=be(),{auth:e,account:r}=We(),[n,s]=I(),[i,a]=Yr(r.state),[o,c]=I({}),l=tt(r);Q(()=>{const m=l();m&&a(m)});const[u]=oe(()=>e.isAuthenticated,()=>r.loadData()),[d]=oe(n,m=>r.saveData(m));Nt(async()=>{d.error&&c({formErrors:[t("Error saving")]}),d.state==="ready"&&a("pass","")});const k=m=>A=>{a(m,A.target.value)};return(()=>{var m=vc(),A=m.firstChild;return E(A,()=>t("Account")),E(m,y(Dt,{get fallback(){return y(sr,{})},get children(){return[z(()=>Jt(u())),y(qr,{onSubmit:()=>s(nr(Rs,i,c)),get children(){return[y(Se,{get label(){return t("Email")},inputmode:"text",autocapitalize:"words",spellcheck:!1,clearable:!0,required:!0,get value(){return i.email},get["on:sl-change"](){return k("email")},get["data-invalid"](){return!!o().fieldErrors?.email},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.email}}),y(Se,{get label(){return t("Password")},inputmode:"text",clearable:!0,type:"password","password-toggle":!0,get value(){return i.pass},get["on:sl-change"](){return k("pass")},get["data-invalid"](){return!!o().fieldErrors?.pass},get isSubmiting(){return d.loading},get errors(){return o().fieldErrors?.pass}}),y(fe,{get when(){return o().formErrors?.length},get children(){var _=wc(),R=_.firstChild;return E(_,()=>o().formErrors?.join(". "),R),_}}),y(St,{type:"submit",variant:"primary",get isSubmiting(){return d.loading},get children(){return t("Save")}})]}})]}}),null),m})()};class xc extends Error{name="AuthenticationError"}var kc=M("<sl-tab-group><sl-tab slot=nav><sl-icon></sl-icon></sl-tab><sl-tab slot=nav><sl-icon></sl-icon></sl-tab><sl-tab slot=nav><sl-icon></sl-icon></sl-tab><sl-tab-panel></sl-tab-panel><sl-tab-panel></sl-tab-panel><sl-tab-panel>",!0,!1),Sc=M("<main class=app><style data-name=custom></style><div>"),Ec=M("<h1>Fail!");const Cc=t=>{const{t:e}=be(),{auth:r}=We(),[n,s]=I(),i=tt(r),a=()=>i()?.isAuthenticated;return Nt(()=>{const{activePanel:o}=localStorage,c=n();o&&c&&c.updateComplete.then(()=>{c.show(o)})}),on(()=>{},o=>{if(o instanceof xc)console.warn("Session expired, signing out"),r.signout();else throw o}),(()=>{var o=Sc(),c=o.firstChild,l=c.nextSibling;return E(c,Li),E(l,y(pc,{get title(){return t.title}}),null),E(l,y(fe,{get when(){return!a()},get children(){return y(ic,{title:"Login"})}}),null),E(l,y(fe,{get when(){return a()},get children(){var u=kc(),d=u.firstChild,k=d.firstChild,m=d.nextSibling,A=m.firstChild,_=m.nextSibling,R=_.firstChild,O=_.nextSibling,L=O.nextSibling,G=L.nextSibling;return bn(K=>s(K),u),u.addEventListener("sl-tab-show",({detail:K})=>{localStorage.activePanel=K.name}),u._$owner=D(),J(d,"panel","account"),d._$owner=D(),J(k,"name","person-lock"),k._$owner=D(),E(d,()=>e("Account"),null),J(m,"panel","subscription"),m._$owner=D(),J(A,"name","journal"),A._$owner=D(),E(m,()=>e("Subscription"),null),J(_,"panel","contact"),_._$owner=D(),J(R,"name","person-hearts"),R._$owner=D(),E(_,()=>e("Contact"),null),J(O,"name","account"),O._$owner=D(),E(O,y(_c,{}),null),E(O,y(bc,{}),null),J(L,"name","subscription"),L._$owner=D(),E(L,y(Bs,{get title(){return e("Subscription")}})),J(G,"name","contact"),G._$owner=D(),E(G,y(Bs,{get title(){return e("Contact")}})),u}}),null),o})()};Mi("membership-widget",{datapoint:"wss://localhost:8055/",title:"Membership portal",namespace:"test",database:"test",scope:"test"},t=>y(hi,{fallback:e=>Ec(),get children(){return y(Vi,{get children(){return y(Fo,{get namespace(){return t.namespace},get database(){return t.database},get scope(){return t.scope},get datapoint(){return t.datapoint},get children(){return y(Cc,{get title(){return t.title}})}})}})}}))});
